{
  "version": 3,
  "sources": ["../../node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js", "../../node_modules/.pnpm/shorthash@0.0.2/node_modules/shorthash/shorthash.js", "../../node_modules/.pnpm/shorthash@0.0.2/node_modules/shorthash/index.js", "../../node_modules/.pnpm/eastasianwidth@0.2.0/node_modules/eastasianwidth/eastasianwidth.js", "../../node_modules/.pnpm/emoji-regex@9.2.2/node_modules/emoji-regex/index.js", "../../node_modules/.pnpm/@amoutonbrady+lz-string@0.0.1/node_modules/@amoutonbrady/lz-string/dist/esm/index.js", "../../src/utils/b64.ts", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/constants.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/util.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/options.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/create-element.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/component.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/create-context.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/diff/children.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/diff/props.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/diff/index.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/render.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/clone-element.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/src/diff/catch-error.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/hooks/src/index.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/util.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/PureComponent.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/memo.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/forwardRef.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/Children.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/suspense.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/suspense-list.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/portals.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/render.js", "../../node_modules/.pnpm/preact@10.7.2/node_modules/preact/compat/src/index.js", "../../src/ui/components/Tabs.tsx", "../../src/utils/loader.ts", "../../src/ui/components/Tab.tsx", "../../src/ui/const.ts", "../../src/ui/hooks/useWindowSize.ts", "../../src/ui/components/Editor.tsx", "../../src/ui/components/JS.tsx", "../../src/ui/components/HTML.tsx", "../../src/ui/components/Menu.tsx", "../../src/ui/components/Preview.tsx", "../../src/ui/components/StatusBar.tsx", "../../src/ui/hooks/useMonaco.ts", "../../src/@astro/internal/index.ts", "../../node_modules/.pnpm/html-escaper@3.0.3/node_modules/html-escaper/esm/index.js", "../../src/@astro/internal/escape.ts", "../../src/utils/random-bytes.ts", "../../src/utils/serialize-javascript.ts", "../../node_modules/.pnpm/string-width@5.1.2/node_modules/string-width/index.js", "../../src/@astro/internal/render.ts", "../../src/utils/index.ts", "../../src/utils/encode-decode.ts", "../../src/ui/components/App.tsx", "../../src/ui/index.ts", "../../src/index.ts"],
  "sourcesContent": ["/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/*\n\tshorthash\n\t(c) 2013 Bibig\n\t\n\thttps://github.com/bibig/node-shorthash\n\tshorthash may be freely distributed under the MIT license.\n*/\n\nexports.bitwise = bitwise;\nexports.binaryTransfer = binaryTransfer;\nexports.unique = unique;\nexports.random = random;\n\n// refer to: http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/\nfunction bitwise(str){\n\tvar hash = 0;\n\tif (str.length == 0) return hash;\n\tfor (var i = 0; i < str.length; i++) {\n\t\tvar ch = str.charCodeAt(i);\n\t\thash = ((hash<<5)-hash) + ch;\n\t\thash = hash & hash; // Convert to 32bit integer\n\t}\n\treturn hash;\n}\n\n// 10\u8FDB\u5236\u8F6C\u5316\u621062\u8FDB\u5236\u4EE5\u5185\u7684\u8FDB\u5236\n// convert 10 binary to customized binary, max is 62\nfunction binaryTransfer(integer, binary) {\n\tbinary = binary || 62;\n\tvar stack = [];\n\tvar num;\n\tvar result = '';\n\tvar sign = integer < 0 ? '-' : '';\n\t\n\tfunction table (num) {\n\t\tvar t = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\t\treturn t[num];\n\t}\n\t\n\tinteger = Math.abs(integer);\n\t\n\twhile (integer >= binary) {\n\t\tnum = integer % binary;\n\t\tinteger = Math.floor(integer / binary);\n\t\tstack.push(table(num));\n\t}\n\t\n\tif (integer > 0) {\n\t\tstack.push(table(integer));\n\t}\n\t\n\tfor (var i = stack.length - 1; i >= 0; i--) {\n\t\tresult += stack[i];\n\t} \n\t\n\treturn sign + result;\n}\n\n\n/**\n * why choose 61 binary, because we need the last element char to replace the minus sign\n * eg: -aGtzd will be ZaGtzd\n */\nfunction unique (text) {\n\tvar id = binaryTransfer(bitwise(text), 61);\n\treturn id.replace('-', 'Z');\n}\n\nfunction random (_len) {\n\t/*\n\tvar len = _len || 8 ;\n\treturn require('crypto').randomBytes(len).toString('hex');\n\t*/\n\t\n\tvar chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\";\n\tvar rs = '';\n\tvar len = _len || 8 ;\n\tfor (var i=0; i< len; i++) {\n\t\tvar pos = Math.floor( Math.random() * chars.length);\n\t\trs += chars.substring(pos, pos + 1);\n\t}\n\treturn rs;\n}", "module.exports = require('./shorthash');", "var eaw = {};\n\nif ('undefined' == typeof module) {\n  window.eastasianwidth = eaw;\n} else {\n  module.exports = eaw;\n}\n\neaw.eastAsianWidth = function(character) {\n  var x = character.charCodeAt(0);\n  var y = (character.length == 2) ? character.charCodeAt(1) : 0;\n  var codePoint = x;\n  if ((0xD800 <= x && x <= 0xDBFF) && (0xDC00 <= y && y <= 0xDFFF)) {\n    x &= 0x3FF;\n    y &= 0x3FF;\n    codePoint = (x << 10) | y;\n    codePoint += 0x10000;\n  }\n\n  if ((0x3000 == codePoint) ||\n      (0xFF01 <= codePoint && codePoint <= 0xFF60) ||\n      (0xFFE0 <= codePoint && codePoint <= 0xFFE6)) {\n    return 'F';\n  }\n  if ((0x20A9 == codePoint) ||\n      (0xFF61 <= codePoint && codePoint <= 0xFFBE) ||\n      (0xFFC2 <= codePoint && codePoint <= 0xFFC7) ||\n      (0xFFCA <= codePoint && codePoint <= 0xFFCF) ||\n      (0xFFD2 <= codePoint && codePoint <= 0xFFD7) ||\n      (0xFFDA <= codePoint && codePoint <= 0xFFDC) ||\n      (0xFFE8 <= codePoint && codePoint <= 0xFFEE)) {\n    return 'H';\n  }\n  if ((0x1100 <= codePoint && codePoint <= 0x115F) ||\n      (0x11A3 <= codePoint && codePoint <= 0x11A7) ||\n      (0x11FA <= codePoint && codePoint <= 0x11FF) ||\n      (0x2329 <= codePoint && codePoint <= 0x232A) ||\n      (0x2E80 <= codePoint && codePoint <= 0x2E99) ||\n      (0x2E9B <= codePoint && codePoint <= 0x2EF3) ||\n      (0x2F00 <= codePoint && codePoint <= 0x2FD5) ||\n      (0x2FF0 <= codePoint && codePoint <= 0x2FFB) ||\n      (0x3001 <= codePoint && codePoint <= 0x303E) ||\n      (0x3041 <= codePoint && codePoint <= 0x3096) ||\n      (0x3099 <= codePoint && codePoint <= 0x30FF) ||\n      (0x3105 <= codePoint && codePoint <= 0x312D) ||\n      (0x3131 <= codePoint && codePoint <= 0x318E) ||\n      (0x3190 <= codePoint && codePoint <= 0x31BA) ||\n      (0x31C0 <= codePoint && codePoint <= 0x31E3) ||\n      (0x31F0 <= codePoint && codePoint <= 0x321E) ||\n      (0x3220 <= codePoint && codePoint <= 0x3247) ||\n      (0x3250 <= codePoint && codePoint <= 0x32FE) ||\n      (0x3300 <= codePoint && codePoint <= 0x4DBF) ||\n      (0x4E00 <= codePoint && codePoint <= 0xA48C) ||\n      (0xA490 <= codePoint && codePoint <= 0xA4C6) ||\n      (0xA960 <= codePoint && codePoint <= 0xA97C) ||\n      (0xAC00 <= codePoint && codePoint <= 0xD7A3) ||\n      (0xD7B0 <= codePoint && codePoint <= 0xD7C6) ||\n      (0xD7CB <= codePoint && codePoint <= 0xD7FB) ||\n      (0xF900 <= codePoint && codePoint <= 0xFAFF) ||\n      (0xFE10 <= codePoint && codePoint <= 0xFE19) ||\n      (0xFE30 <= codePoint && codePoint <= 0xFE52) ||\n      (0xFE54 <= codePoint && codePoint <= 0xFE66) ||\n      (0xFE68 <= codePoint && codePoint <= 0xFE6B) ||\n      (0x1B000 <= codePoint && codePoint <= 0x1B001) ||\n      (0x1F200 <= codePoint && codePoint <= 0x1F202) ||\n      (0x1F210 <= codePoint && codePoint <= 0x1F23A) ||\n      (0x1F240 <= codePoint && codePoint <= 0x1F248) ||\n      (0x1F250 <= codePoint && codePoint <= 0x1F251) ||\n      (0x20000 <= codePoint && codePoint <= 0x2F73F) ||\n      (0x2B740 <= codePoint && codePoint <= 0x2FFFD) ||\n      (0x30000 <= codePoint && codePoint <= 0x3FFFD)) {\n    return 'W';\n  }\n  if ((0x0020 <= codePoint && codePoint <= 0x007E) ||\n      (0x00A2 <= codePoint && codePoint <= 0x00A3) ||\n      (0x00A5 <= codePoint && codePoint <= 0x00A6) ||\n      (0x00AC == codePoint) ||\n      (0x00AF == codePoint) ||\n      (0x27E6 <= codePoint && codePoint <= 0x27ED) ||\n      (0x2985 <= codePoint && codePoint <= 0x2986)) {\n    return 'Na';\n  }\n  if ((0x00A1 == codePoint) ||\n      (0x00A4 == codePoint) ||\n      (0x00A7 <= codePoint && codePoint <= 0x00A8) ||\n      (0x00AA == codePoint) ||\n      (0x00AD <= codePoint && codePoint <= 0x00AE) ||\n      (0x00B0 <= codePoint && codePoint <= 0x00B4) ||\n      (0x00B6 <= codePoint && codePoint <= 0x00BA) ||\n      (0x00BC <= codePoint && codePoint <= 0x00BF) ||\n      (0x00C6 == codePoint) ||\n      (0x00D0 == codePoint) ||\n      (0x00D7 <= codePoint && codePoint <= 0x00D8) ||\n      (0x00DE <= codePoint && codePoint <= 0x00E1) ||\n      (0x00E6 == codePoint) ||\n      (0x00E8 <= codePoint && codePoint <= 0x00EA) ||\n      (0x00EC <= codePoint && codePoint <= 0x00ED) ||\n      (0x00F0 == codePoint) ||\n      (0x00F2 <= codePoint && codePoint <= 0x00F3) ||\n      (0x00F7 <= codePoint && codePoint <= 0x00FA) ||\n      (0x00FC == codePoint) ||\n      (0x00FE == codePoint) ||\n      (0x0101 == codePoint) ||\n      (0x0111 == codePoint) ||\n      (0x0113 == codePoint) ||\n      (0x011B == codePoint) ||\n      (0x0126 <= codePoint && codePoint <= 0x0127) ||\n      (0x012B == codePoint) ||\n      (0x0131 <= codePoint && codePoint <= 0x0133) ||\n      (0x0138 == codePoint) ||\n      (0x013F <= codePoint && codePoint <= 0x0142) ||\n      (0x0144 == codePoint) ||\n      (0x0148 <= codePoint && codePoint <= 0x014B) ||\n      (0x014D == codePoint) ||\n      (0x0152 <= codePoint && codePoint <= 0x0153) ||\n      (0x0166 <= codePoint && codePoint <= 0x0167) ||\n      (0x016B == codePoint) ||\n      (0x01CE == codePoint) ||\n      (0x01D0 == codePoint) ||\n      (0x01D2 == codePoint) ||\n      (0x01D4 == codePoint) ||\n      (0x01D6 == codePoint) ||\n      (0x01D8 == codePoint) ||\n      (0x01DA == codePoint) ||\n      (0x01DC == codePoint) ||\n      (0x0251 == codePoint) ||\n      (0x0261 == codePoint) ||\n      (0x02C4 == codePoint) ||\n      (0x02C7 == codePoint) ||\n      (0x02C9 <= codePoint && codePoint <= 0x02CB) ||\n      (0x02CD == codePoint) ||\n      (0x02D0 == codePoint) ||\n      (0x02D8 <= codePoint && codePoint <= 0x02DB) ||\n      (0x02DD == codePoint) ||\n      (0x02DF == codePoint) ||\n      (0x0300 <= codePoint && codePoint <= 0x036F) ||\n      (0x0391 <= codePoint && codePoint <= 0x03A1) ||\n      (0x03A3 <= codePoint && codePoint <= 0x03A9) ||\n      (0x03B1 <= codePoint && codePoint <= 0x03C1) ||\n      (0x03C3 <= codePoint && codePoint <= 0x03C9) ||\n      (0x0401 == codePoint) ||\n      (0x0410 <= codePoint && codePoint <= 0x044F) ||\n      (0x0451 == codePoint) ||\n      (0x2010 == codePoint) ||\n      (0x2013 <= codePoint && codePoint <= 0x2016) ||\n      (0x2018 <= codePoint && codePoint <= 0x2019) ||\n      (0x201C <= codePoint && codePoint <= 0x201D) ||\n      (0x2020 <= codePoint && codePoint <= 0x2022) ||\n      (0x2024 <= codePoint && codePoint <= 0x2027) ||\n      (0x2030 == codePoint) ||\n      (0x2032 <= codePoint && codePoint <= 0x2033) ||\n      (0x2035 == codePoint) ||\n      (0x203B == codePoint) ||\n      (0x203E == codePoint) ||\n      (0x2074 == codePoint) ||\n      (0x207F == codePoint) ||\n      (0x2081 <= codePoint && codePoint <= 0x2084) ||\n      (0x20AC == codePoint) ||\n      (0x2103 == codePoint) ||\n      (0x2105 == codePoint) ||\n      (0x2109 == codePoint) ||\n      (0x2113 == codePoint) ||\n      (0x2116 == codePoint) ||\n      (0x2121 <= codePoint && codePoint <= 0x2122) ||\n      (0x2126 == codePoint) ||\n      (0x212B == codePoint) ||\n      (0x2153 <= codePoint && codePoint <= 0x2154) ||\n      (0x215B <= codePoint && codePoint <= 0x215E) ||\n      (0x2160 <= codePoint && codePoint <= 0x216B) ||\n      (0x2170 <= codePoint && codePoint <= 0x2179) ||\n      (0x2189 == codePoint) ||\n      (0x2190 <= codePoint && codePoint <= 0x2199) ||\n      (0x21B8 <= codePoint && codePoint <= 0x21B9) ||\n      (0x21D2 == codePoint) ||\n      (0x21D4 == codePoint) ||\n      (0x21E7 == codePoint) ||\n      (0x2200 == codePoint) ||\n      (0x2202 <= codePoint && codePoint <= 0x2203) ||\n      (0x2207 <= codePoint && codePoint <= 0x2208) ||\n      (0x220B == codePoint) ||\n      (0x220F == codePoint) ||\n      (0x2211 == codePoint) ||\n      (0x2215 == codePoint) ||\n      (0x221A == codePoint) ||\n      (0x221D <= codePoint && codePoint <= 0x2220) ||\n      (0x2223 == codePoint) ||\n      (0x2225 == codePoint) ||\n      (0x2227 <= codePoint && codePoint <= 0x222C) ||\n      (0x222E == codePoint) ||\n      (0x2234 <= codePoint && codePoint <= 0x2237) ||\n      (0x223C <= codePoint && codePoint <= 0x223D) ||\n      (0x2248 == codePoint) ||\n      (0x224C == codePoint) ||\n      (0x2252 == codePoint) ||\n      (0x2260 <= codePoint && codePoint <= 0x2261) ||\n      (0x2264 <= codePoint && codePoint <= 0x2267) ||\n      (0x226A <= codePoint && codePoint <= 0x226B) ||\n      (0x226E <= codePoint && codePoint <= 0x226F) ||\n      (0x2282 <= codePoint && codePoint <= 0x2283) ||\n      (0x2286 <= codePoint && codePoint <= 0x2287) ||\n      (0x2295 == codePoint) ||\n      (0x2299 == codePoint) ||\n      (0x22A5 == codePoint) ||\n      (0x22BF == codePoint) ||\n      (0x2312 == codePoint) ||\n      (0x2460 <= codePoint && codePoint <= 0x24E9) ||\n      (0x24EB <= codePoint && codePoint <= 0x254B) ||\n      (0x2550 <= codePoint && codePoint <= 0x2573) ||\n      (0x2580 <= codePoint && codePoint <= 0x258F) ||\n      (0x2592 <= codePoint && codePoint <= 0x2595) ||\n      (0x25A0 <= codePoint && codePoint <= 0x25A1) ||\n      (0x25A3 <= codePoint && codePoint <= 0x25A9) ||\n      (0x25B2 <= codePoint && codePoint <= 0x25B3) ||\n      (0x25B6 <= codePoint && codePoint <= 0x25B7) ||\n      (0x25BC <= codePoint && codePoint <= 0x25BD) ||\n      (0x25C0 <= codePoint && codePoint <= 0x25C1) ||\n      (0x25C6 <= codePoint && codePoint <= 0x25C8) ||\n      (0x25CB == codePoint) ||\n      (0x25CE <= codePoint && codePoint <= 0x25D1) ||\n      (0x25E2 <= codePoint && codePoint <= 0x25E5) ||\n      (0x25EF == codePoint) ||\n      (0x2605 <= codePoint && codePoint <= 0x2606) ||\n      (0x2609 == codePoint) ||\n      (0x260E <= codePoint && codePoint <= 0x260F) ||\n      (0x2614 <= codePoint && codePoint <= 0x2615) ||\n      (0x261C == codePoint) ||\n      (0x261E == codePoint) ||\n      (0x2640 == codePoint) ||\n      (0x2642 == codePoint) ||\n      (0x2660 <= codePoint && codePoint <= 0x2661) ||\n      (0x2663 <= codePoint && codePoint <= 0x2665) ||\n      (0x2667 <= codePoint && codePoint <= 0x266A) ||\n      (0x266C <= codePoint && codePoint <= 0x266D) ||\n      (0x266F == codePoint) ||\n      (0x269E <= codePoint && codePoint <= 0x269F) ||\n      (0x26BE <= codePoint && codePoint <= 0x26BF) ||\n      (0x26C4 <= codePoint && codePoint <= 0x26CD) ||\n      (0x26CF <= codePoint && codePoint <= 0x26E1) ||\n      (0x26E3 == codePoint) ||\n      (0x26E8 <= codePoint && codePoint <= 0x26FF) ||\n      (0x273D == codePoint) ||\n      (0x2757 == codePoint) ||\n      (0x2776 <= codePoint && codePoint <= 0x277F) ||\n      (0x2B55 <= codePoint && codePoint <= 0x2B59) ||\n      (0x3248 <= codePoint && codePoint <= 0x324F) ||\n      (0xE000 <= codePoint && codePoint <= 0xF8FF) ||\n      (0xFE00 <= codePoint && codePoint <= 0xFE0F) ||\n      (0xFFFD == codePoint) ||\n      (0x1F100 <= codePoint && codePoint <= 0x1F10A) ||\n      (0x1F110 <= codePoint && codePoint <= 0x1F12D) ||\n      (0x1F130 <= codePoint && codePoint <= 0x1F169) ||\n      (0x1F170 <= codePoint && codePoint <= 0x1F19A) ||\n      (0xE0100 <= codePoint && codePoint <= 0xE01EF) ||\n      (0xF0000 <= codePoint && codePoint <= 0xFFFFD) ||\n      (0x100000 <= codePoint && codePoint <= 0x10FFFD)) {\n    return 'A';\n  }\n\n  return 'N';\n};\n\neaw.characterLength = function(character) {\n  var code = this.eastAsianWidth(character);\n  if (code == 'F' || code == 'W' || code == 'A') {\n    return 2;\n  } else {\n    return 1;\n  }\n};\n\n// Split a string considering surrogate-pairs.\nfunction stringToArray(string) {\n  return string.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[^\\uD800-\\uDFFF]/g) || [];\n}\n\neaw.length = function(string) {\n  var characters = stringToArray(string);\n  var len = 0;\n  for (var i = 0; i < characters.length; i++) {\n    len = len + this.characterLength(characters[i]);\n  }\n  return len;\n};\n\neaw.slice = function(text, start, end) {\n  textLen = eaw.length(text)\n  start = start ? start : 0;\n  end = end ? end : 1;\n  if (start < 0) {\n      start = textLen + start;\n  }\n  if (end < 0) {\n      end = textLen + end;\n  }\n  var result = '';\n  var eawLen = 0;\n  var chars = stringToArray(text);\n  for (var i = 0; i < chars.length; i++) {\n    var char = chars[i];\n    var charLen = eaw.length(char);\n    if (eawLen >= start - (charLen == 2 ? 1 : 0)) {\n        if (eawLen + charLen <= end) {\n            result += char;\n        } else {\n            break;\n        }\n    }\n    eawLen += charLen;\n  }\n  return result;\n};\n", "\"use strict\";\n\nmodule.exports = function () {\n  // https://mths.be/emoji\n  return /\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62(?:\\uDB40\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73|\\uDB40\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDB40\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67)\\uDB40\\uDC7F|(?:\\uD83E\\uDDD1\\uD83C\\uDFFF\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB-\\uDFFE])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFE\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFD\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFC\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|(?:\\uD83E\\uDDD1\\uD83C\\uDFFB\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1|\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83E\\uDD1D\\u200D(?:\\uD83D[\\uDC68\\uDC69]))(?:\\uD83C[\\uDFFC-\\uDFFF])|\\uD83D\\uDC68(?:\\uD83C\\uDFFB(?:\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF]))|\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFC-\\uDFFF])|[\\u2695\\u2696\\u2708]\\uFE0F|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))?|(?:\\uD83C[\\uDFFC-\\uDFFF])\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFF]))|\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83D\\uDC68|(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFE])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83D\\uDC68(?:\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])\\uFE0F|\\u200D(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83D[\\uDC66\\uDC67])|\\uD83C\\uDFFF|\\uD83C\\uDFFE|\\uD83C\\uDFFD|\\uD83C\\uDFFC)?|(?:\\uD83D\\uDC69(?:\\uD83C\\uDFFB\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69])|(?:\\uD83C[\\uDFFC-\\uDFFF])\\u200D\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69]))|\\uD83E\\uDDD1(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1)(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67]))|\\uD83D\\uDC69(?:\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69])|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|\\uD83E\\uDDD1(?:\\u200D(?:\\uD83E\\uDD1D\\u200D\\uD83E\\uDDD1|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFF\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFE\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFD\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFC\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C\\uDFFB\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]))|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|(?:\\uD83D\\uDC41\\uFE0F\\u200D\\uD83D\\uDDE8|\\uD83E\\uDDD1(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|\\uD83D\\uDC69(?:\\uD83C\\uDFFF\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFE\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFD\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFC\\u200D[\\u2695\\u2696\\u2708]|\\uD83C\\uDFFB\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708])|\\uD83D\\uDE36\\u200D\\uD83C\\uDF2B|\\uD83C\\uDFF3\\uFE0F\\u200D\\u26A7|\\uD83D\\uDC3B\\u200D\\u2744|(?:(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC6F|\\uD83E[\\uDD3C\\uDDDE\\uDDDF])\\u200D[\\u2640\\u2642]|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642]|\\uD83C\\uDFF4\\u200D\\u2620|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD])\\u200D[\\u2640\\u2642]|[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u2328\\u23CF\\u23ED-\\u23EF\\u23F1\\u23F2\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB\\u25FC\\u2600-\\u2604\\u260E\\u2611\\u2618\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u2692\\u2694-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A7\\u26B0\\u26B1\\u26C8\\u26CF\\u26D1\\u26D3\\u26E9\\u26F0\\u26F1\\u26F4\\u26F7\\u26F8\\u2702\\u2708\\u2709\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2733\\u2734\\u2744\\u2747\\u2763\\u27A1\\u2934\\u2935\\u2B05-\\u2B07\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDE02\\uDE37\\uDF21\\uDF24-\\uDF2C\\uDF36\\uDF7D\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E\\uDF9F\\uDFCD\\uDFCE\\uDFD4-\\uDFDF\\uDFF5\\uDFF7]|\\uD83D[\\uDC3F\\uDCFD\\uDD49\\uDD4A\\uDD6F\\uDD70\\uDD73\\uDD76-\\uDD79\\uDD87\\uDD8A-\\uDD8D\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA\\uDECB\\uDECD-\\uDECF\\uDEE0-\\uDEE5\\uDEE9\\uDEF0\\uDEF3])\\uFE0F|\\uD83C\\uDFF3\\uFE0F\\u200D\\uD83C\\uDF08|\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\uD83D\\uDC66|\\uD83D\\uDE35\\u200D\\uD83D\\uDCAB|\\uD83D\\uDE2E\\u200D\\uD83D\\uDCA8|\\uD83D\\uDC15\\u200D\\uD83E\\uDDBA|\\uD83E\\uDDD1(?:\\uD83C\\uDFFF|\\uD83C\\uDFFE|\\uD83C\\uDFFD|\\uD83C\\uDFFC|\\uD83C\\uDFFB)?|\\uD83D\\uDC69(?:\\uD83C\\uDFFF|\\uD83C\\uDFFE|\\uD83C\\uDFFD|\\uD83C\\uDFFC|\\uD83C\\uDFFB)?|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDF6\\uD83C\\uDDE6|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83D\\uDC08\\u200D\\u2B1B|\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDD25|\\uD83E\\uDE79)|\\uD83D\\uDC41\\uFE0F|\\uD83C\\uDFF3\\uFE0F|\\uD83C\\uDDFF(?:\\uD83C[\\uDDE6\\uDDF2\\uDDFC])|\\uD83C\\uDDFE(?:\\uD83C[\\uDDEA\\uDDF9])|\\uD83C\\uDDFC(?:\\uD83C[\\uDDEB\\uDDF8])|\\uD83C\\uDDFB(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA])|\\uD83C\\uDDFA(?:\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF])|\\uD83C\\uDDF9(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF])|\\uD83C\\uDDF8(?:\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF])|\\uD83C\\uDDF7(?:\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC])|\\uD83C\\uDDF5(?:\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE])|\\uD83C\\uDDF3(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF])|\\uD83C\\uDDF2(?:\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF])|\\uD83C\\uDDF1(?:\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE])|\\uD83C\\uDDF0(?:\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDEF(?:\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5])|\\uD83C\\uDDEE(?:\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9])|\\uD83C\\uDDED(?:\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA])|\\uD83C\\uDDEC(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE])|\\uD83C\\uDDEB(?:\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7])|\\uD83C\\uDDEA(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA])|\\uD83C\\uDDE9(?:\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF])|\\uD83C\\uDDE8(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF])|\\uD83C\\uDDE7(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDE6(?:\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF])|[#\\*0-9]\\uFE0F\\u20E3|\\u2764\\uFE0F|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])|\\uD83C\\uDFF4|(?:[\\u270A\\u270B]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u270C\\u270D]|\\uD83D[\\uDD74\\uDD90])(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])|[\\u270A\\u270B]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC08\\uDC15\\uDC3B\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE2E\\uDE35\\uDE36\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5]|\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD]|\\uD83D\\uDC6F|\\uD83E[\\uDD3C\\uDDDE\\uDDDF]|[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF84\\uDF86-\\uDF93\\uDFA0-\\uDFC1\\uDFC5\\uDFC6\\uDFC8\\uDFC9\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC07\\uDC09-\\uDC14\\uDC16-\\uDC3A\\uDC3C-\\uDC3E\\uDC40\\uDC44\\uDC45\\uDC51-\\uDC65\\uDC6A\\uDC79-\\uDC7B\\uDC7D-\\uDC80\\uDC84\\uDC88-\\uDC8E\\uDC90\\uDC92-\\uDCA9\\uDCAB-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDDA4\\uDDFB-\\uDE2D\\uDE2F-\\uDE34\\uDE37-\\uDE44\\uDE48-\\uDE4A\\uDE80-\\uDEA2\\uDEA4-\\uDEB3\\uDEB7-\\uDEBF\\uDEC1-\\uDEC5\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0D\\uDD0E\\uDD10-\\uDD17\\uDD1D\\uDD20-\\uDD25\\uDD27-\\uDD2F\\uDD3A\\uDD3F-\\uDD45\\uDD47-\\uDD76\\uDD78\\uDD7A-\\uDDB4\\uDDB7\\uDDBA\\uDDBC-\\uDDCB\\uDDD0\\uDDE0-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6]|(?:[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u270A\\u270B\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF93\\uDFA0-\\uDFCA\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF4\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC3E\\uDC40\\uDC42-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDD7A\\uDD95\\uDD96\\uDDA4\\uDDFB-\\uDE4F\\uDE80-\\uDEC5\\uDECC\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6])|(?:[#\\*0-9\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u261D\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A1\\u26A7\\u26AA\\u26AB\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C5\\u26C8\\u26CE\\u26CF\\u26D1\\u26D3\\u26D4\\u26E9\\u26EA\\u26F0-\\u26F5\\u26F7-\\u26FA\\u26FD\\u2702\\u2705\\u2708-\\u270D\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE02\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF21\\uDF24-\\uDF93\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E-\\uDFF0\\uDFF3-\\uDFF5\\uDFF7-\\uDFFF]|\\uD83D[\\uDC00-\\uDCFD\\uDCFF-\\uDD3D\\uDD49-\\uDD4E\\uDD50-\\uDD67\\uDD6F\\uDD70\\uDD73-\\uDD7A\\uDD87\\uDD8A-\\uDD8D\\uDD90\\uDD95\\uDD96\\uDDA4\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA-\\uDE4F\\uDE80-\\uDEC5\\uDECB-\\uDED2\\uDED5-\\uDED7\\uDEE0-\\uDEE5\\uDEE9\\uDEEB\\uDEEC\\uDEF0\\uDEF3-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6])\\uFE0F|(?:[\\u261D\\u26F9\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2-\\uDFC4\\uDFC7\\uDFCA-\\uDFCC]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66-\\uDC78\\uDC7C\\uDC81-\\uDC83\\uDC85-\\uDC87\\uDC8F\\uDC91\\uDCAA\\uDD74\\uDD75\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE45-\\uDE47\\uDE4B-\\uDE4F\\uDEA3\\uDEB4-\\uDEB6\\uDEC0\\uDECC]|\\uD83E[\\uDD0C\\uDD0F\\uDD18-\\uDD1F\\uDD26\\uDD30-\\uDD39\\uDD3C-\\uDD3E\\uDD77\\uDDB5\\uDDB6\\uDDB8\\uDDB9\\uDDBB\\uDDCD-\\uDDCF\\uDDD1-\\uDDDD])/g;\n};\n", "var v=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",y=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\",x={};function M(r,s){if(!x[r]){x[r]={};for(let f=0;f<r.length;f++)x[r][r.charAt(f)]=f}return x[r][s]}function S(r){if(r==null)return\"\";let s=b(r,6,f=>v.charAt(f));switch(s.length%4){default:case 0:return s;case 1:return s+\"===\";case 2:return s+\"==\";case 3:return s+\"=\"}}function O(r){return r==null?\"\":r==\"\"?null:A(r.length,32,s=>M(v,r.charAt(s)))}function j(r){return r==null?\"\":b(r,6,s=>y.charAt(s))}function k(r){return r==null?\"\":r==\"\"?null:(r=r.replaceAll(\" \",\"+\"),A(r.length,32,s=>M(y,r.charAt(s))))}function D(r){return b(r,16,String.fromCharCode)}function R(r){return r==null?\"\":r==\"\"?null:A(r.length,32768,s=>r.charCodeAt(s))}function b(r,s,f){if(r==null)return\"\";let p=[],m={},h={},i,w,o,g=\"\",u=\"\",d=\"\",l=2,a=3,c=2,e=0,t=0;for(w=0;w<r.length;w+=1)if(g=r.charAt(w),Object.prototype.hasOwnProperty.call(m,g)||(m[g]=a++,h[g]=!0),d=u+g,Object.prototype.hasOwnProperty.call(m,d))u=d;else{if(Object.prototype.hasOwnProperty.call(h,u)){if(u.charCodeAt(0)<256){for(i=0;i<c;i++)e=e<<1,t==s-1?(t=0,p.push(f(e)),e=0):t++;for(o=u.charCodeAt(0),i=0;i<8;i++)e=e<<1|o&1,t==s-1?(t=0,p.push(f(e)),e=0):t++,o=o>>1}else{for(o=1,i=0;i<c;i++)e=e<<1|o,t==s-1?(t=0,p.push(f(e)),e=0):t++,o=0;for(o=u.charCodeAt(0),i=0;i<16;i++)e=e<<1|o&1,t==s-1?(t=0,p.push(f(e)),e=0):t++,o=o>>1}l--,l==0&&(l=Math.pow(2,c),c++),delete h[u]}else for(o=m[u],i=0;i<c;i++)e=e<<1|o&1,t==s-1?(t=0,p.push(f(e)),e=0):t++,o=o>>1;l--,l==0&&(l=Math.pow(2,c),c++),m[d]=a++,u=String(g)}if(u!==\"\"){if(Object.prototype.hasOwnProperty.call(h,u)){if(u.charCodeAt(0)<256){for(i=0;i<c;i++)e=e<<1,t==s-1?(t=0,p.push(f(e)),e=0):t++;for(o=u.charCodeAt(0),i=0;i<8;i++)e=e<<1|o&1,t==s-1?(t=0,p.push(f(e)),e=0):t++,o=o>>1}else{for(o=1,i=0;i<c;i++)e=e<<1|o,t==s-1?(t=0,p.push(f(e)),e=0):t++,o=0;for(o=u.charCodeAt(0),i=0;i<16;i++)e=e<<1|o&1,t==s-1?(t=0,p.push(f(e)),e=0):t++,o=o>>1}l--,l==0&&(l=Math.pow(2,c),c++),delete h[u]}else for(o=m[u],i=0;i<c;i++)e=e<<1|o&1,t==s-1?(t=0,p.push(f(e)),e=0):t++,o=o>>1;l--,l==0&&(l=Math.pow(2,c),c++)}for(o=2,i=0;i<c;i++)e=e<<1|o&1,t==s-1?(t=0,p.push(f(e)),e=0):t++,o=o>>1;for(;;)if(e=e<<1,t==s-1){p.push(f(e));break}else t++;return p.join(\"\")}function A(r,s,f){let p=[],m,h=4,i=4,w=3,o=\"\",g=[],u,d,l,a,c,e,t,n={val:f(0),position:s,index:1};for(u=0;u<3;u+=1)p[u]=u;for(l=0,c=Math.pow(2,2),e=1;e!=c;)a=n.val&n.position,n.position>>=1,n.position==0&&(n.position=s,n.val=f(n.index++)),l|=(a>0?1:0)*e,e<<=1;switch(m=l){case 0:for(l=0,c=Math.pow(2,8),e=1;e!=c;)a=n.val&n.position,n.position>>=1,n.position==0&&(n.position=s,n.val=f(n.index++)),l|=(a>0?1:0)*e,e<<=1;t=String.fromCharCode(l);break;case 1:for(l=0,c=Math.pow(2,16),e=1;e!=c;)a=n.val&n.position,n.position>>=1,n.position==0&&(n.position=s,n.val=f(n.index++)),l|=(a>0?1:0)*e,e<<=1;t=String.fromCharCode(l);break;case 2:return\"\"}for(p[3]=t,d=t,g.push(t);;){if(n.index>r)return\"\";for(l=0,c=Math.pow(2,w),e=1;e!=c;)a=n.val&n.position,n.position>>=1,n.position==0&&(n.position=s,n.val=f(n.index++)),l|=(a>0?1:0)*e,e<<=1;switch(t=l){case 0:for(l=0,c=Math.pow(2,8),e=1;e!=c;)a=n.val&n.position,n.position>>=1,n.position==0&&(n.position=s,n.val=f(n.index++)),l|=(a>0?1:0)*e,e<<=1;p[i++]=String.fromCharCode(l),t=i-1,h--;break;case 1:for(l=0,c=Math.pow(2,16),e=1;e!=c;)a=n.val&n.position,n.position>>=1,n.position==0&&(n.position=s,n.val=f(n.index++)),l|=(a>0?1:0)*e,e<<=1;p[i++]=String.fromCharCode(l),t=i-1,h--;break;case 2:return g.join(\"\")}if(h==0&&(h=Math.pow(2,w),w++),p[t])o=p[t];else if(t===i&&typeof d==\"string\")o=d+d.charAt(0);else return null;g.push(o),p[i++]=d+o.charAt(0),h--,d=o,h==0&&(h=Math.pow(2,w),w++)}}export{D as compress,S as compressToBase64,j as compressToURL,R as decompress,O as decompressFromBase64,k as decompressFromURL};\n", "import { compressToURL, decompressFromURL } from '@amoutonbrady/lz-string';\n\nconst PATH_PREFIX = 'inmemory://model/src';\nfunction serializeData(data: Record<string, string>): string {\n    const serialized = {};\n    for (const [key, value] of Object.entries(data)) {\n        serialized[key.slice(PATH_PREFIX.length)] = compressToURL(value.trim());\n    }\n    return JSON.stringify(serialized).slice(1, -1);\n}\n\nfunction deserializeData(data: string): Record<string, string> {\n    const tmp = JSON.parse(`{${data}}`);\n    const result = {};\n    for (const [key, value] of Object.entries(tmp)) {\n        result[`${PATH_PREFIX}${key}`] = decompressFromURL(value as string);\n    }\n    return result;\n}\n\nexport function b64Encode(data: Record<string, string>) {\n    const value = compressToURL(serializeData(data));\n    return value;\n}\n\nexport function legacyB64Decode(str: string) {\n    return decodeURIComponent(atob(str));\n}\n\nexport function newB64Decode(str: string) {\n    const tmp = decompressFromURL(str);\n    if (!tmp) {\n        return null;\n    }\n    return tmp;\n}\n\nexport function b64Decode(str: string) {\n    const value = newB64Decode(str);\n    if (!value) {\n        return JSON.parse(legacyB64Decode(str));\n    }\n    return deserializeData(value);\n}\n\n// Based on https://developer.mozilla.org/en-US/docs/Glossary/Base64#the_unicode_problem\nexport function b64EncodeUnicode(str: string) {\n    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function(match, p1) {\n        return String.fromCharCode(('0x' + p1) as unknown as number);\n    }));\n}", "export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tc,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n", "import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => ref.current = null;\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n", "/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n", "import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n", "import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n", "import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n", "import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n", "import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function(error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function(vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function(promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function() {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function(props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n", "import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function(child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function(props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate = SuspenseList.prototype.componentDidMount = function() {\n\t// Iterate through all children after mounting for two reasons:\n\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t//    The nodes can now be completely consumed from the linked list.\n\t// 2. Handle nodes that might have gotten resolved between render and\n\t//    componentDidMount.\n\tthis._map.forEach((node, child) => {\n\t\tresolve(this, child, node);\n\t});\n};\n", "import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function() {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n", "import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/i\n\t\t: /fil|che|ra/i\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nlet classNameDescriptor = {\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\tlet type = vnode.type;\n\tlet props = vnode.props;\n\tlet normalizedProps = props;\n\n\t// only normalize props on Element nodes\n\tif (typeof type === 'string') {\n\t\tconst nonCustomElement = type.indexOf('-') === -1;\n\t\tnormalizedProps = {};\n\n\t\tfor (let i in props) {\n\t\t\tlet value = props[i];\n\n\t\t\tif (IS_DOM && i === 'children' && type === 'noscript') {\n\t\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t\tcontinue;\n\t\t\t} else if (i === 'value' && 'defaultValue' in props && value == null) {\n\t\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t\t// a default value\n\t\t\t\tcontinue;\n\t\t\t} else if (\n\t\t\t\ti === 'defaultValue' &&\n\t\t\t\t'value' in props &&\n\t\t\t\tprops.value == null\n\t\t\t) {\n\t\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\t\ti = 'value';\n\t\t\t} else if (i === 'download' && value === true) {\n\t\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t\t// value will be used as the file name and the file will be called\n\t\t\t\t// \"true\" upon downloading it.\n\t\t\t\tvalue = '';\n\t\t\t} else if (/ondoubleclick/i.test(i)) {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\t/^onchange(textarea|input)/i.test(i + type) &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\ti = 'oninput';\n\t\t\t} else if (/^onfocus$/i.test(i)) {\n\t\t\t\ti = 'onfocusin';\n\t\t\t} else if (/^onblur$/i.test(i)) {\n\t\t\t\ti = 'onfocusout';\n\t\t\t} else if (/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t} else if (nonCustomElement && CAMEL_PROPS.test(i)) {\n\t\t\t\ti = i.replace(/[A-Z0-9]/, '-$&').toLowerCase();\n\t\t\t} else if (value === null) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\n\t\t\tnormalizedProps[i] = value;\n\t\t}\n\n\t\t// Add support for array select values: <select multiple value={[]} />\n\t\tif (\n\t\t\ttype == 'select' &&\n\t\t\tnormalizedProps.multiple &&\n\t\t\tArray.isArray(normalizedProps.value)\n\t\t) {\n\t\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t\t});\n\t\t}\n\n\t\t// Adding support for defaultValue in select tag\n\t\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tif (normalizedProps.multiple) {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t\t} else {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvnode.props = normalizedProps;\n\n\t\tif (props.class != props.className) {\n\t\t\tclassNameDescriptor.enumerable = 'className' in props;\n\t\t\tif (props.className != null) normalizedProps.class = props.className;\n\t\t\tObject.defineProperty(normalizedProps, 'className', classNameDescriptor);\n\t\t}\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function(vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n", "import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional arugment that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n", "import type { FunctionalComponent } from 'preact';\nimport { h, Fragment } from 'preact';\n\nconst noop = () => {};\n\nexport interface Props {\n  onAddTab: () => any;\n  [key: string]: any;\n}\n\nconst Tabs: FunctionalComponent<Props> = ({ onAddTab = noop, children }) => {\n  return (\n    <menu class=\"ap-tabgroup ap-tabgroup__scrollable\" role=\"tabgroup\">\n      {children}\n      <button type=\"button\" class=\"ap-tabgroup-action\" onClick={() => onAddTab()}>\n        <svg class=\"ap-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n        </svg>\n      </button>\n    </menu>\n  );\n};\n\nexport default Tabs;\n", "import type { Loader } from 'esbuild';\n\n// Based on https://github.com/sindresorhus/path-is-absolute/blob/main/index.js\nexport const isAbsolute = (path: string) => {\n    return path.length > 0 && path.charAt(0) === '/';\n}\n\n// Based on https://github.com/egoist/play-esbuild/blob/main/src/lib/path.ts\nexport const extname = (path: string) => {\n    const m = /(\\.[a-zA-Z0-9]+)$/.exec(path);\n    return m ? m[1] : \"\";\n}\n\n// Based on https://github.com/egoist/play-esbuild/blob/main/src/lib/esbuild.ts\nexport const RESOLVE_EXTENSIONS = [\".tsx\", \".ts\", \".jsx\", \".js\", \".css\", \".json\"];\nexport const inferLoader = (url: string): Loader => {\n    const ext = extname(url);\n    if (RESOLVE_EXTENSIONS.includes(ext))\n        return ext.slice(1) as Loader;\n\n    if (ext === \".mjs\" || ext === \".cjs\") return \"js\";\n    if (ext === \".mts\" || ext === \".cts\") return \"ts\";\n\n    if (ext == \".scss\") return \"css\";\n\n    if (ext == \".png\" || ext == \".jpeg\" || ext == \".ttf\") return \"dataurl\";\n    if (ext == \".svg\" || ext == \".html\" || ext == \".txt\") return \"text\";\n    if (ext == \".wasm\") return \"file\";\n\n    return ext.length ? \"text\" : \"ts\";\n}\n\n// Based on https://github.com/okikio/bundle/blob/9489ee56dc508e493444d1e8c18aa044812bbd9e/src/ts/util/loader.ts\nexport const isBareImport = (url: string) => {\n    return /^(?!\\.).*/.test(url) && !isAbsolute(url);\n}\n\nexport const HOST = 'https://cdn.skypack.dev/';\nexport const getCDNHost = (url: string) => {\n    let argPath = url.replace(/^(skypack|esm|esm\\.sh|unpkg|jsdelivr|esm\\.run)\\:/, \"\");\n    let host = HOST;\n    if (/^skypack\\:/.test(url)) {\n        host = `https://cdn.skypack.dev/`;\n    } else if (/^(esm\\.sh|esm)\\:/.test(url)) {\n        host = `https://cdn.esm.sh/`;\n    } else if (/^unpkg\\:/.test(url)) {\n        host = `https://unpkg.com/`;\n    } else if (/^(jsdelivr|esm\\.run)\\:/.test(url)) {\n        host = `https://cdn.jsdelivr.net/npm/`;\n    }\n\n    // typescript will only work on esm.sh\n    else if (/^typescript/.test(url)) {\n        host = `https://unpkg.com/`;\n    }\n\n    return { argPath, host };\n}\n\n// Based on https://github.com/browserify/path-browserify/blob/master/index.js\nexport const dirname = (path: string) => {\n    if (path.length === 0) return '.';\n    let code = path.charCodeAt(0);\n    let hasRoot = code === 47;\n    let end = -1;\n    let matchedSlash = true;\n    for (let i = path.length - 1; i >= 1; --i) {\n        code = path.charCodeAt(i);\n        if (code === 47) {\n            if (!matchedSlash) {\n                end = i;\n                break;\n            }\n        } else {\n            // We saw the first non-path separator\n            matchedSlash = false;\n        }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n}\n\n// Based on https://github.com/browserify/path-browserify/blob/master/index.js\nexport const normalizeStringPosix = (path: string, allowAboveRoot: boolean) => {\n    let res = '';\n    let lastSegmentLength = 0;\n    let lastSlash = -1;\n    let dots = 0;\n    let code: number;\n    for (let i = 0; i <= path.length; ++i) {\n        if (i < path.length)\n            code = path.charCodeAt(i);\n        else if (code === 47)\n            break;\n        else\n            code = 47;\n        if (code === 47) {\n            if (lastSlash === i - 1 || dots === 1) {\n                // NOOP\n            } else if (lastSlash !== i - 1 && dots === 2) {\n                if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n                    if (res.length > 2) {\n                        let lastSlashIndex = res.lastIndexOf('/');\n                        if (lastSlashIndex !== res.length - 1) {\n                            if (lastSlashIndex === -1) {\n                                res = '';\n                                lastSegmentLength = 0;\n                            } else {\n                                res = res.slice(0, lastSlashIndex);\n                                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n                            }\n                            lastSlash = i;\n                            dots = 0;\n                            continue;\n                        }\n                    } else if (res.length === 2 || res.length === 1) {\n                        res = '';\n                        lastSegmentLength = 0;\n                        lastSlash = i;\n                        dots = 0;\n                        continue;\n                    }\n                }\n                if (allowAboveRoot) {\n                    if (res.length > 0)\n                        res += '/..';\n                    else\n                        res = '..';\n                    lastSegmentLength = 2;\n                }\n            } else {\n                if (res.length > 0)\n                    res += '/' + path.slice(lastSlash + 1, i);\n                else\n                    res = path.slice(lastSlash + 1, i);\n                lastSegmentLength = i - lastSlash - 1;\n            }\n            lastSlash = i;\n            dots = 0;\n        } else if (code === 46 /*.*/ && dots !== -1) {\n            ++dots;\n        } else {\n            dots = -1;\n        }\n    }\n    return res;\n}\n\n// Based on https://github.com/browserify/path-browserify/blob/master/index.js\nexport const resolve = (...args: string[]) => {\n    let resolvedPath = '';\n    let resolvedAbsolute = false;\n    let cwd: string;\n\n    for (let i = args.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n        let path: string;\n        if (i >= 0)\n            path = args[i];\n        else {\n            if (cwd === undefined)\n                cwd = '/';\n            path = cwd;\n        }\n\n        // Skip empty entries\n        if (path.length === 0) {\n            continue;\n        }\n\n        resolvedPath = path + '/' + resolvedPath;\n        resolvedAbsolute = path.charCodeAt(0) === 47;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n        if (resolvedPath.length > 0)\n            return '/' + resolvedPath;\n        else\n            return '/';\n    } else if (resolvedPath.length > 0) {\n        return resolvedPath;\n    } else {\n        return '.';\n    }\n}\n\n// Based on https://github.com/browserify/path-browserify/blob/master/index.js\nexport const basename = (path: string, ext?: string) => {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n\n    let start = 0;\n    let end = -1;\n    let matchedSlash = true;\n    let i: number;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n        if (ext.length === path.length && ext === path) return '';\n        let extIdx = ext.length - 1;\n        let firstNonSlashEnd = -1;\n        for (i = path.length - 1; i >= 0; --i) {\n            let code = path.charCodeAt(i);\n            if (code === 47) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    start = i + 1;\n                    break;\n                }\n            } else {\n                if (firstNonSlashEnd === -1) {\n                    // We saw the first non-path separator, remember this index in case\n                    // we need it if the extension ends up not matching\n                    matchedSlash = false;\n                    firstNonSlashEnd = i + 1;\n                }\n                if (extIdx >= 0) {\n                    // Try to match the explicit extension\n                    if (code === ext.charCodeAt(extIdx)) {\n                        if (--extIdx === -1) {\n                            // We matched the extension, so mark this as the end of our path\n                            // component\n                            end = i;\n                        }\n                    } else {\n                        // Extension does not match, so our result is the entire path\n                        // component\n                        extIdx = -1;\n                        end = firstNonSlashEnd;\n                    }\n                }\n            }\n        }\n\n        if (start === end) end = firstNonSlashEnd; else if (end === -1) end = path.length;\n        return path.slice(start, end);\n    } else {\n        for (i = path.length - 1; i >= 0; --i) {\n            if (path.charCodeAt(i) === 47) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    start = i + 1;\n                    break;\n                }\n            } else if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // path component\n                matchedSlash = false;\n                end = i + 1;\n            }\n        }\n\n        if (end === -1) return '';\n        return path.slice(start, end);\n    }\n}", "import type { editor as Editor } from 'monaco-editor';\nimport type { FunctionalComponent } from 'preact';\nimport { h } from 'preact';\nimport { basename } from '../../utils/loader';\n// import { posix } from 'path';\n\nconst noop = () => {};\n\nexport interface Props {\n  'aria-selected': boolean;\n  index: number;\n  model: Editor.IModel;\n  onRemoveTab?: (model: Editor.IModel) => void;\n  onSetTab?: (model: Editor.IModel) => void;\n}\nconst Tab: FunctionalComponent<Props> = ({ 'aria-selected': active = false, index, onRemoveTab = noop, onSetTab = noop, model }) => {\n  const tabName = basename(model.uri.path);\n  return (\n    <div class={`ap-tabgroup-tabwrapper${index !== 0 ? ' is-removable' : ''}`}>\n      <button role=\"tab\" type=\"button\" aria-selected={active} aria-controls=\"editor\" class=\"ap-tabgroup-tab\" onClick={() => onSetTab(model)}>\n        {tabName}\n      </button>\n      {index !== 0 && (\n        <button\n          type=\"button\"\n          class=\"ap-tabgroup-remove\"\n          onClick={() => (confirm(`Delete ${tabName}? This can\u2019t be undone.`) ? onRemoveTab(model) : {})}\n        >\n          <svg class=\"ap-tabgroup-remove-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path\n              stroke=\"currentColor\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n            />\n          </svg>\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Tab;\n", "/** all REPL tabs (used mostly for typechecking) */\nexport type TabName = 'CODE' | 'PREVIEW' | 'HTML' | 'JS';\nexport const TABS: Record<TabName, TabName> = {\n  CODE: 'CODE', // note: mobile-only tab\n  PREVIEW: 'PREVIEW',\n  HTML: 'HTML',\n  JS: 'JS',\n};\n", "import { useEffect, useState } from 'preact/hooks';\n\n/** width at which \"desktop\" is returned */\nconst MOBILE_BREAKPOINT = 600;\n\nlet resizeTimeout: number | undefined;\n\nfunction useWindowSize() {\n  const [windowSize, setWindowSize] = useState(window.innerWidth);\n\n  function getWidth() {\n    setWindowSize(window.innerWidth);\n  }\n\n  useEffect(() => {\n    window.addEventListener(\n      'resize',\n      () => {\n        resizeTimeout = window.requestAnimationFrame(getWidth);\n      },\n      false\n    );\n    return () => {\n      window.cancelAnimationFrame(resizeTimeout);\n    };\n  }, []);\n\n  return { isDesktop: windowSize >= MOBILE_BREAKPOINT };\n}\n\nexport default useWindowSize;\n", "import type { editor } from 'monaco-editor';\nimport type { TabName } from '../const';\nimport { h, RefObject } from 'preact';\nimport { forwardRef } from 'preact/compat';\nimport Tabs from './Tabs';\nimport Tab from './Tab';\nimport { TABS } from '../const';\nimport useWindowSize from '../hooks/useWindowSize';\n\nconst noop = () => {};\n\nexport interface Props {\n  currentModel?: editor.IModel;\n  currentTab: TabName;\n  models: editor.IModel[];\n  onAddTab?: () => any;\n  onRemoveTab?: (model: editor.IModel) => void;\n  onSetTab?: (model: editor.IModel) => void;\n  ref?: RefObject<HTMLElement>;\n}\n\nconst Editor = forwardRef<HTMLElement, Props>(\n  ({ models, currentModel, currentTab, onAddTab = noop, onRemoveTab = noop, onSetTab = noop, children, ...props }, editorRef) => {\n    const { isDesktop } = useWindowSize();\n\n    return (\n      <div\n        id=\"panel-code\"\n        role=\"tabpanel\"\n        class=\"ap-panel ap-panel__code ap-editor\"\n        aria-labelledby=\"tab-code\"\n        hidden={isDesktop ? false : currentTab !== TABS.CODE}\n      >\n        <Tabs onAddTab={() => onAddTab()}>\n          {models.map((model, index) => (\n            <Tab\n              aria-selected={currentModel && currentModel.uri.toString() === model.uri.toString()}\n              index={index}\n              model={model}\n              onRemoveTab={onRemoveTab}\n              onSetTab={onSetTab}\n            />\n          ))}\n        </Tabs>\n        <main {...props} ref={editorRef} id=\"editor\" class=\"ap-editor-code\" />\n      </div>\n    );\n  }\n);\n\nexport default Editor;\n", "import type { FunctionalComponent } from 'preact';\nimport type { TabName } from '../const';\nimport { h } from 'preact';\nimport { TABS } from '../const';\n\nexport interface Props {\n  code: string;\n  currentTab: TabName;\n  hasError: boolean;\n}\n\nconst JS: FunctionalComponent<Props> = ({ code, hasError, currentTab }) => {\n  return (\n    <div\n      aria-labelledby=\"tab-js\"\n      class={`ap-panel ap-panel__js${hasError ? ' has-error' : ''}`}\n      dangerouslySetInnerHTML={{ __html: code }}\n      hidden={currentTab !== TABS.JS}\n      id=\"panel-js\"\n      role=\"tabpanel\"\n    />\n  );\n};\n\nexport default JS;\n", "import type { FunctionalComponent } from 'preact';\nimport type { TabName } from '../const';\nimport { h } from 'preact';\nimport { TABS } from '../const';\n\nexport interface Props {\n  html: string;\n  currentTab: TabName;\n  hasError: boolean;\n}\n\nconst HTML: FunctionalComponent<Props> = ({ html, hasError, currentTab }) => {\n  return (\n    <div\n      aria-labelledby=\"tab-html\"\n      class={`ap-panel ap-panel__html${hasError ? ' has-error' : ''}`}\n      hidden={currentTab !== TABS.HTML}\n      dangerouslySetInnerHTML={{ __html: html }}\n      id=\"panel-html\"\n      role=\"tabpanel\"\n    />\n  );\n};\n\nexport default HTML;\n", "import type { FunctionalComponent } from 'preact';\nimport { h } from 'preact';\nimport { TABS } from '../const';\nimport useWindowSize from '../hooks/useWindowSize';\n\nexport interface Props {\n  currentTab: keyof typeof TABS;\n  setCurrentTab: (val: keyof typeof TABS) => void;\n}\n\nconst Menu: FunctionalComponent<Props> = ({ currentTab, setCurrentTab, children }) => {\n  const { isDesktop } = useWindowSize();\n\n  // if window is expanding from mobile -> desktop, make sure code AND preview are shown side-by-side (no need for desktop -> mobile)\n  if (isDesktop && currentTab === TABS.CODE) {\n    setCurrentTab(TABS.PREVIEW);\n  }\n\n  return (\n    <menu class=\"ap-tabgroup ap-app-tabs\" role=\"tabgroup\">\n      <div class=\"ap-tabgroup-tabwrapper\">\n        <button\n          aria-controls=\"panel-code\"\n          aria-selected={currentTab === TABS.CODE}\n          class=\"ap-tabgroup-tab ap-tabgroup-tab__mobile\"\n          id=\"tab-code\"\n          onClick={() => setCurrentTab(TABS.CODE)}\n          role=\"tab\"\n          type=\"button\"\n        >\n          Code\n        </button>\n      </div>\n      <div class=\"ap-tabgroup-tabwrapper\">\n        <button\n          aria-controls=\"panel-frame\"\n          aria-selected={currentTab === TABS.PREVIEW}\n          class=\"ap-tabgroup-tab\"\n          id=\"tab-preview\"\n          onClick={() => setCurrentTab(TABS.PREVIEW)}\n          role=\"tab\"\n          type=\"button\"\n        >\n          Preview\n        </button>\n      </div>\n      <div class=\"ap-tabgroup-tabwrapper\">\n        <button\n          aria-controls=\"panel-html\"\n          aria-selected={currentTab === TABS.HTML}\n          class=\"ap-tabgroup-tab\"\n          id=\"tab-preview\"\n          onClick={() => setCurrentTab(TABS.HTML)}\n          role=\"tab\"\n          type=\"button\"\n        >\n          HTML\n        </button>\n      </div>\n      <div class=\"ap-tabgroup-tabwrapper\">\n        <button\n          aria-controls=\"panel-js\"\n          aria-selected={currentTab === TABS.JS}\n          class=\"ap-tabgroup-tab\"\n          id=\"tab-js\"\n          onClick={() => setCurrentTab(TABS.JS)}\n          role=\"tab\"\n          type=\"button\"\n        >\n          JS\n        </button>\n      </div>\n      {/* <div class=\"ap-preview-menugroup\">\n    <button id=\"layout\" role=\"switch\" aria-checked=\"false\" aria-label=\"Toggle layout\" class=\"ap-switch\">\n      <svg class=\"ap-icon ap-icon__layoutvertical\" viewBox=\"0 0 15 15\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          clip-rule=\"evenodd\"\n          d=\"m8 1h5c.5523 0 1 .44772 1 1v11c0 .5523-.4477 1-1 1h-5zm-1 0h-5c-.55228 0-1 .44772-1 1v11c0 .5523.44772 1 1 1h5zm-7 1c0-1.10457.895431-2 2-2h11c1.1046 0 2 .895431 2 2v11c0 1.1046-.8954 2-2 2h-11c-1.10457 0-2-.8954-2-2z\"\n          fill-rule=\"evenodd\"\n        />\n      </svg>\n      <svg class=\"ap-icon ap-icon__layouthorizontal\" viewBox=\"0 0 15 15\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          clip-rule=\"evenodd\"\n          d=\"m13 0h-11c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-11c0-1.1-.9-2-2-2zm-11 1h11c.6 0 1 .4 1 1v5h-13v-5c0-.6.4-1 1-1zm11 13h-11c-.6 0-1-.4-1-1v-5h13v5c0 .6-.4 1-1 1z\"\n          fill-rule=\"evenodd\"\n        />\n      </svg>\n    </button>\n  </div> */}\n      {/* <div class=\"ap-preview-menugroup\">\n    <button id=\"theme\" role=\"switch\" aria-checked=\"true\" aria-label=\"Toggle theme\" class=\"ap-switch\">\n      <svg class=\"ap-icon ap-icon__themelight\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"m8 0c.26522 0 .51957.105357.70711.292893.18753.187537.29289.441891.29289.707107v1c0 .26522-.10536.51957-.29289.70711-.18754.18753-.44189.29289-.70711.29289s-.51957-.10536-.70711-.29289c-.18753-.18754-.29289-.44189-.29289-.70711v-1c0-.265216.10536-.51957.29289-.707107.18754-.187536.44189-.292893.70711-.292893zm4 8c0 1.06087-.4214 2.0783-1.1716 2.8284-.7501.7502-1.76753 1.1716-2.8284 1.1716s-2.07828-.4214-2.82843-1.1716c-.75014-.7501-1.17157-1.76753-1.17157-2.8284s.42143-2.07828 1.17157-2.82843c.75015-.75014 1.76756-1.17157 2.82843-1.17157s2.0783.42143 2.8284 1.17157c.7502.75015 1.1716 1.76756 1.1716 2.82843zm-.464 4.95.707.707c.1886.1822.4412.283.7034.2807s.513-.1075.6984-.2929.2906-.4362.2929-.6984-.0985-.5148-.2807-.7034l-.707-.707c-.1886-.1822-.4412-.283-.7034-.2807s-.513.1075-.6984.2929-.2906.4362-.2929.6984.0985.5148.2807.7034zm2.12-10.607c.1875.18753.2928.44184.2928.707s-.1053.51947-.2928.707l-.706.707c-.0922.09551-.2026.17169-.3246.2241s-.2532.08-.386.08115-.2645-.02415-.3874-.07443-.2345-.12453-.3284-.21842c-.0939-.0939-.1681-.20555-.2184-.32845-.0503-.12289-.0756-.25457-.0745-.38735.0012-.13278.0288-.264.0812-.386.0524-.12201.1286-.23235.2241-.3246l.707-.707c.1875-.18747.4418-.29279.707-.29279s.5195.10532.707.29279zm1.344 6.657c.2652 0 .5196-.10536.7071-.29289.1875-.18754.2929-.44189.2929-.70711s-.1054-.51957-.2929-.70711c-.1875-.18753-.4419-.29289-.7071-.29289h-1c-.2652 0-.5196.10536-.7071.29289-.1875.18754-.2929.44189-.2929.70711s.1054.51957.2929.70711c.1875.18753.4419.29289.7071.29289zm-7 4c.26522 0 .51957.1054.70711.2929.18753.1875.29289.4419.29289.7071v1c0 .2652-.10536.5196-.29289.7071-.18754.1875-.44189.2929-.70711.2929s-.51957-.1054-.70711-.2929c-.18753-.1875-.29289-.4419-.29289-.7071v-1c0-.2652.10536-.5196.29289-.7071.18754-.1875.44189-.2929.70711-.2929zm-4.95-8.536c.09284.09291.20308.16662.32441.21693s.25139.07623.38274.07627c.13134.00005.26142-.02578.38278-.076.12137-.05022.23166-.12386.32457-.2167s.16662-.20308.21693-.32441.07623-.25139.07627-.38274c.00005-.13134-.02578-.26142-.076-.38278-.05022-.12137-.12386-.23166-.2167-.32457l-.708-.707c-.1886-.18216-.4412-.28295-.7034-.28067-.2622.00227-.51301.10744-.69842.29285s-.29058.43622-.29285.69842c-.00228.2622.09851.5148.28067.7034zm1.414 8.486-.707.707c-.1886.1822-.4412.283-.7034.2807s-.51301-.1075-.69842-.2929-.29058-.4362-.29285-.6984c-.00228-.2622.09851-.5148.28067-.7034l.707-.707c.1886-.1822.4412-.283.7034-.2807s.51301.1075.69842.2929.29058.4362.29285.6984c.00228.2622-.09851.5148-.28067.7034zm-2.464-3.95c.26522 0 .51957-.10536.70711-.29289.18753-.18754.29289-.44189.29289-.70711s-.10536-.51957-.29289-.70711c-.18754-.18753-.44189-.29289-.70711-.29289h-1c-.265216 0-.51957.10536-.707107.29289-.187536.18754-.292893.44189-.292893.70711s.105357.51957.292893.70711c.187537.18753.441891.29289.707107.29289z\" />\n      </svg>\n      <svg class=\"ap-icon ap-icon__themedark\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"m15.293 11.293c-1.4815.6701-3.132.8729-4.7316.5813-1.59965-.2916-3.07245-1.0637-4.22221-2.21348-1.14975-1.14975-1.92185-2.62255-2.21345-4.22219-.29159-1.59963-.08883-3.25014.58127-4.731629-1.17943.533009-2.21196 1.344199-3.00899 2.363959-.797033 1.01976-1.334776 2.21766-1.567096 3.49093-.232319 1.27326-.1522805 2.58388.23325 3.81941.385531 1.2355 1.065046 2.3591 1.980246 3.2743.91519.9152 2.03876 1.5947 3.27429 1.9802 1.23553.3856 2.54615.4656 3.81942.2333s2.47117-.7701 3.49097-1.5671c1.0197-.797 1.8309-1.8296 2.3639-3.009z\" />\n      </svg>\n    </button>\n  </div> */}\n    {children}\n    </menu>\n  );\n};\n\nexport default Menu;\n", "import type { FunctionalComponent } from 'preact';\nimport type { TabName } from '../const';\nimport { h } from 'preact';\nimport { TABS } from '../const';\n\nexport interface Props {\n  currentTab: TabName;\n  hasError: boolean;\n  html: string;\n  loading: boolean;\n}\n\nconst Preview: FunctionalComponent<Props> = ({ currentTab, hasError, html, loading }) => {\n  return (\n    <div\n      aria-labelledby=\"tab-preview\"\n      class={`ap-panel ap-panel-absolute ap-panel__preview${hasError ? ' has-error' : ''}${loading ? \" load\" : \"\"}`}\n      hidden={currentTab !== TABS.PREVIEW}\n      id=\"panel-preview\"\n      role=\"tabpanel\"\n    >\n      <div class=\"loading-container\">\n        <div class=\"loader\"></div>\n      </div>\n      <iframe class=\"ap-preview\" srcDoc={html}></iframe>\n    </div>\n  );\n};\n\nexport default Preview;\n", "import type { FunctionalComponent } from 'preact';\nimport { h } from 'preact';\nimport ms from 'ms';\nimport pkg from '../../../package.json';\n\nexport interface Props {\n  duration: number;\n  error?: string;\n}\n\nconst StatusBar: FunctionalComponent<Props> = ({ error, children, duration = 0 }) => {\n  const pkgName = \"astro\";\n  const compilerVersion = pkg.dependencies[pkgName].slice(1);\n  const Version = () => (\n    <div>\n      <a href=\"https://github.com/withastro/astro\">\n        <span class=\"ap-statusbar-status\">{pkgName}</span>\n      </a>\n      <span class=\"ap-statusbar-time\">{compilerVersion}</span>\n    </div>\n  );\n  if (error) {\n    const [reason, ...messages] = error.toString().split(':');\n    const message = messages.join(':');\n    return (\n      <aside class=\"ap-statusbar has-error\">\n        <div>\n          <span id=\"status\" class=\"ap-statusbar-status\">\n            {reason.trim()}\n          </span>\n          <span id=\"last-task-time\" class=\"ap-statusbar-time\">\n            {message.trim()}\n          </span>\n        </div>\n        {children}\n        <Version />\n      </aside>\n    );\n  }\n  duration = Math.floor(duration);\n  return (\n    <aside class=\"ap-statusbar\">\n      <div>\n        <span id=\"status\" class=\"ap-statusbar-status\">\n          Compiled in\n        </span>\n        <span id=\"last-task-time\" class=\"ap-statusbar-time\">\n          {ms(duration)}\n        </span>\n      </div>\n      <Version />\n    </aside>\n  );\n};\n\nexport default StatusBar;\n", "import type { editor as Editor } from 'monaco-editor';\n// import path from 'path';\nimport { basename as pathBasename} from '../../utils/loader';\nimport type { RefObject } from 'preact';\nimport { editor, Range, Position, Uri } from 'monaco-editor';\nconst { createModel } = editor;\n\nimport { useState, useEffect, useRef, useCallback } from 'preact/hooks';\n\nconst useMonaco = (Monaco: typeof import('../../editor/modules/monaco'), editorRef: RefObject<HTMLElement | null>, initialModels: Record<string, string>) => {\n  const editorInstance = useRef<Editor.IStandaloneCodeEditor>();\n  const [value, setValue] = useState(null);\n  const viewStates = useRef<Record<string, Editor.ICodeEditorViewState>>({});\n  const [models, setModels] = useState<Editor.ITextModel[]>([]);\n  const previousModels = useRef<Editor.ITextModel[]>(null);\n  const [currentModel, setCurrentModel] = useState<Editor.ITextModel>();\n\n  const setTab = useCallback(\n    (model: Editor.ITextModel) => {\n      if (!editorInstance.current) {\n        return;\n      }\n      if (currentModel && currentModel.uri.toString() === model.uri.toString()) {\n        return;\n      }\n      const editor = editorInstance.current;\n\n      const saveViewState = () => {\n        const model = editor.getModel();\n        if (model) {\n          previousModels.current.push(model);\n          const viewState = editor.saveViewState();\n          viewStates.current[model.uri.toString()] = viewState;\n        }\n      };\n\n      const restoreViewState = () => {\n        const viewState = viewStates.current[model.uri.toString()];\n        if (viewState) {\n          editor.restoreViewState(viewState);\n        }\n      };\n\n      saveViewState();\n      editor.setModel(model);\n      setValue(model.getValue().trim());\n      setCurrentModel(model);\n      setTimeout(() => {\n        restoreViewState();\n      }, 20);\n    },\n    [currentModel]\n  );\n\n  const addTab: typeof createModel = (...args) => {\n    if (!editorInstance.current) {\n      return;\n    }\n    const model = createModel(...args);\n    const basename = pathBasename(args[2].path, '.astro');\n    setModels((models) => {\n      return [...models, model];\n    });\n    const openFrontmatter = models[0].findNextMatch('---\\n', new Position(0, 0), false, false, ' \\t\\n', true);\n    const end = openFrontmatter.range.getEndPosition();\n    models[0].applyEdits([\n      {\n        range: new Range(end.lineNumber, end.column, end.lineNumber, end.column),\n        text: `import ${basename} from '@/${basename}.astro';\\n`,\n      },\n    ]);\n    setTab(model);\n    return model;\n  };\n\n  const removeTab = useCallback(\n    (model: Editor.IModel) => {\n      if (!editorInstance.current) {\n        return;\n      }\n      const { uri } = model;\n      model.dispose();\n      previousModels.current = previousModels.current.filter((m) => m.uri.toString() !== uri.toString());\n      delete viewStates[uri.toString()];\n      setModels((models) => models.filter((model) => model.uri.toString() !== uri.toString()));\n      if (currentModel.uri.toString() === model.uri.toString()) {\n        previousModels.current.pop();\n        setTab(previousModels.current[previousModels.current.length - 1]);\n      }\n    },\n    [currentModel, setTab]\n  );\n\n  useEffect(() => {\n    if (editorRef && !editorInstance.current && initialModels) {\n      const { editor, models } = Monaco.build(editorRef.current, initialModels);\n      editorInstance.current = editor;\n      previousModels.current = [...models];\n      setModels([...models]);\n      setCurrentModel(models[0]);\n      setTab(models[0]);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!editorInstance.current) {\n      return;\n    }\n    const editor = editorInstance.current;\n    const onDidChangeModelContent = editor.onDidChangeModelContent(() => {\n      setValue(editor.getModel().getValue().trim());\n    });\n    return () => {\n      onDidChangeModelContent.dispose();\n    };\n  }, [editorInstance]);\n\n  return { editor: editorInstance, value, models, currentModel, addTab, removeTab, setTab };\n};\n\nexport default useMonaco;\n", "import shorthash from 'shorthash';\nimport type {\n\tAstroComponentMetadata,\n\tAstroGlobalPartial,\n\tEndpointHandler,\n\tParams,\n\tSSRElement,\n\tSSRLoadedRenderer,\n\tSSRResult,\n} from \"astro\";\nimport { escapeHTML, HTMLString, markHTMLString } from './escape';\nimport { extractDirectives, generateHydrateScript, serializeProps } from './hydration';\nimport { serializeListValue } from './util';\n\n// import { extname } from '../../utils/loader';\n\nexport { markHTMLString, markHTMLString as unescapeHTML } from './escape';\nexport type { Metadata } from './metadata';\nexport { createMetadata } from './metadata';\n\n\nconst voidElementNames =\n\t/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;\nconst htmlBooleanAttributes =\n\t/^(allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i;\nconst htmlEnumAttributes = /^(contenteditable|draggable|spellcheck|value)$/i;\n// Note: SVG is case-sensitive!\nconst svgEnumAttributes = /^(autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i;\n\n// INVESTIGATE:\n// 2. Less anys when possible and make it well known when they are needed.\n\n// Used to render slots and expressions\n// INVESTIGATE: Can we have more specific types both for the argument and output?\n// If these are intentional, add comments that these are intention and why.\n// Or maybe type UserValue = any; ?\nasync function _render(child: any): Promise<any> {\n\tchild = await child;\n\tif (child instanceof HTMLString) {\n\t\treturn child;\n\t} else if (Array.isArray(child)) {\n\t\treturn markHTMLString((await Promise.all(child.map((value) => _render(value)))).join(''));\n\t} else if (typeof child === 'function') {\n\t\t// Special: If a child is a function, call it automatically.\n\t\t// This lets you do {() => ...} without the extra boilerplate\n\t\t// of wrapping it in a function and calling it.\n\t\treturn _render(child());\n\t} else if (typeof child === 'string') {\n\t\treturn markHTMLString(escapeHTML(child));\n\t} else if (!child && child !== 0) {\n\t\t// do nothing, safe to ignore falsey values.\n\t}\n\t// Add a comment explaining why each of these are needed.\n\t// Maybe create clearly named function for what this is doing.\n\telse if (\n\t\tchild instanceof AstroComponent ||\n\t\tObject.prototype.toString.call(child) === '[object AstroComponent]'\n\t) {\n\t\treturn markHTMLString(await renderAstroComponent(child));\n\t} else {\n\t\treturn child;\n\t}\n}\n\n// The return value when rendering a component.\n// This is the result of calling render(), should this be named to RenderResult or...?\nexport class AstroComponent {\n\tprivate htmlParts: TemplateStringsArray;\n\tprivate expressions: any[];\n\n\tconstructor(htmlParts: TemplateStringsArray, expressions: any[]) {\n\t\tthis.htmlParts = htmlParts;\n\t\tthis.expressions = expressions;\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'AstroComponent';\n\t}\n\n\t*[Symbol.iterator]() {\n\t\tconst { htmlParts, expressions } = this;\n\n\t\tfor (let i = 0; i < htmlParts.length; i++) {\n\t\t\tconst html = htmlParts[i];\n\t\t\tconst expression = expressions[i];\n\n\t\t\tyield markHTMLString(html);\n\t\t\tyield _render(expression);\n\t\t}\n\t}\n}\n\nfunction isAstroComponent(obj: any): obj is AstroComponent {\n\treturn (\n\t\ttypeof obj === 'object' && Object.prototype.toString.call(obj) === '[object AstroComponent]'\n\t);\n}\n\nexport async function render(htmlParts: TemplateStringsArray, ...expressions: any[]) {\n\treturn new AstroComponent(htmlParts, expressions);\n}\n\n// The callback passed to to $$createComponent\nexport interface AstroComponentFactory {\n\t(result: any, props: any, slots: any): ReturnType<typeof render> | Response;\n\tisAstroComponentFactory?: boolean;\n}\n\n// Used in creating the component. aka the main export.\nexport function createComponent(cb: AstroComponentFactory) {\n\t// Add a flag to this callback to mark it as an Astro component\n\t// INVESTIGATE does this need to cast\n\t(cb as any).isAstroComponentFactory = true;\n\treturn cb;\n}\n\nexport async function renderSlot(_result: any, slotted: string, fallback?: any) {\n\tif (slotted) {\n\t\treturn await _render(slotted);\n\t}\n\treturn fallback;\n}\n\nexport const Fragment = Symbol('Astro.Fragment');\n\nfunction guessRenderers(componentUrl?: string): string[] {\n\tconst extname = componentUrl?.split('.').pop();\n\tswitch (extname) {\n\t\tcase 'svelte':\n\t\t\treturn ['@astrojs/svelte'];\n\t\tcase 'vue':\n\t\t\treturn ['@astrojs/vue'];\n\t\tcase 'jsx':\n\t\tcase 'tsx':\n\t\t\treturn ['@astrojs/react', '@astrojs/preact'];\n\t\tdefault:\n\t\t\treturn ['@astrojs/react', '@astrojs/preact', '@astrojs/vue', '@astrojs/svelte'];\n\t}\n}\n\nfunction formatList(values: string[]): string {\n\tif (values.length === 1) {\n\t\treturn values[0];\n\t}\n\treturn `${values.slice(0, -1).join(', ')} or ${values[values.length - 1]}`;\n}\n\nexport async function renderComponent(\n\tresult: SSRResult,\n\tdisplayName: string,\n\tComponent: unknown,\n\t_props: Record<string | number, any>,\n\tslots: any = {}\n) {\n\tComponent = await Component;\n\tif (Component === Fragment) {\n\t\tconst children = await renderSlot(result, slots?.default);\n\t\tif (children == null) {\n\t\t\treturn children;\n\t\t}\n\t\treturn markHTMLString(children);\n\t}\n\n\tif (Component && (Component as any).isAstroComponentFactory) {\n\t\tconst output = await renderToString(result, Component as any, _props, slots);\n\t\treturn markHTMLString(output);\n\t}\n\n\tif (Component === null && !_props['client:only']) {\n\t\tthrow new Error(\n\t\t\t`Unable to render ${displayName} because it is ${Component}!\\nDid you forget to import the component or is it possible there is a typo?`\n\t\t);\n\t}\n\n\tconst { renderers } = result._metadata;\n\tconst metadata: AstroComponentMetadata = { displayName };\n\n\tconst { hydration, props } = extractDirectives(_props);\n\tlet html = '';\n\n\tif (hydration) {\n\t\tmetadata.hydrate = hydration.directive as AstroComponentMetadata['hydrate'];\n\t\tmetadata.hydrateArgs = hydration.value;\n\t\tmetadata.componentExport = hydration.componentExport;\n\t\tmetadata.componentUrl = hydration.componentUrl;\n\t}\n\tconst probableRendererNames = guessRenderers(metadata.componentUrl);\n\n\tif (\n\t\tArray.isArray(renderers) &&\n\t\trenderers.length === 0 &&\n\t\ttypeof Component !== 'string' &&\n\t\t!componentIsHTMLElement(Component)\n\t) {\n\t\tconst message = `Unable to render ${metadata.displayName}!\nThere are no \\`integrations\\` set in your \\`astro.config.mjs\\` file.\nDid you mean to add ${formatList(probableRendererNames.map((r) => '`' + r + '`'))}?`;\n\t\tthrow new Error(message);\n\t}\n\n\tconst children = await renderSlot(result, slots?.default);\n\t// Call the renderers `check` hook to see if any claim this component.\n\tlet renderer: SSRLoadedRenderer | undefined;\n\tif (metadata.hydrate !== 'only') {\n\t\tfor (const r of renderers) {\n\t\t\tif (await r.ssr.check(Component, props, children)) {\n\t\t\t\trenderer = r;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!renderer && typeof HTMLElement === 'function' && componentIsHTMLElement(Component)) {\n\t\t\tconst output = renderHTMLElement(result, Component as typeof HTMLElement, _props, slots);\n\n\t\t\treturn output;\n\t\t}\n\t} else {\n\t\t// Attempt: use explicitly passed renderer name\n\t\tif (metadata.hydrateArgs) {\n\t\t\tconst rendererName = metadata.hydrateArgs;\n\t\t\trenderer = renderers.filter(\n\t\t\t\t({ name }) => name === `@astrojs/${rendererName}` || name === rendererName\n\t\t\t)[0];\n\t\t}\n\t\t// Attempt: user only has a single renderer, default to that\n\t\tif (!renderer && renderers.length === 1) {\n\t\t\trenderer = renderers[0];\n\t\t}\n\t\t// Attempt: can we guess the renderer from the export extension?\n\t\tif (!renderer) {\n\t\t\tconst extname = metadata.componentUrl?.split('.').pop();\n\t\t\trenderer = renderers.filter(\n\t\t\t\t({ name }) => name === `@astrojs/${extname}` || name === extname\n\t\t\t)[0];\n\t\t}\n\t}\n\n\t// If no one claimed the renderer\n\tif (!renderer) {\n\t\tif (metadata.hydrate === 'only') {\n\t\t\t// TODO: improve error message\n\t\t\tthrow new Error(`Unable to render ${metadata.displayName}!\nUsing the \\`client:only\\` hydration strategy, Astro needs a hint to use the correct renderer.\nDid you mean to pass <${metadata.displayName} client:only=\"${probableRendererNames\n\t\t\t\t\t.map((r) => r.replace('@astrojs/', ''))\n\t\t\t\t\t.join('|')}\" />\n`);\n\t\t} else if (typeof Component !== 'string') {\n\t\t\tconst matchingRenderers = renderers.filter((r) => probableRendererNames.includes(r.name));\n\t\t\tconst plural = renderers.length > 1;\n\t\t\tif (matchingRenderers.length === 0) {\n\t\t\t\tthrow new Error(`Unable to render ${metadata.displayName}!\nThere ${plural ? 'are' : 'is'} ${renderers.length} renderer${plural ? 's' : ''\n\t\t\t\t} configured in your \\`astro.config.mjs\\` file,\nbut ${plural ? 'none were' : 'it was not'} able to server-side render ${metadata.displayName}.\nDid you mean to enable ${formatList(probableRendererNames.map((r) => '`' + r + '`'))}?`);\n\t\t\t} else if (matchingRenderers.length === 1) {\n\t\t\t\t// We already know that renderer.ssr.check() has failed\n\t\t\t\t// but this will throw a much more descriptive error!\n\t\t\t\trenderer = matchingRenderers[0];\n\t\t\t\t({ html } = await renderer.ssr.renderToStaticMarkup(Component, props, children, metadata));\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Unable to render ${metadata.displayName}!\nThis component likely uses ${formatList(probableRendererNames)},\nbut Astro encountered an error during server-side rendering.\nPlease ensure that ${metadata.displayName}:\n1. Does not unconditionally access browser-specific globals like \\`window\\` or \\`document\\`.\n   If this is unavoidable, use the \\`client:only\\` hydration directive.\n2. Does not conditionally return \\`null\\` or \\`undefined\\` when rendered on the server.\nIf you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (metadata.hydrate === 'only') {\n\t\t\thtml = await renderSlot(result, slots?.fallback);\n\t\t} else {\n\t\t\t({ html } = await renderer.ssr.renderToStaticMarkup(Component, props, children, metadata));\n\t\t}\n\t}\n\n\t// This is a custom element without a renderer. Because of that, render it\n\t// as a string and the user is responsible for adding a script tag for the component definition.\n\tif (!html && typeof Component === 'string') {\n\t\thtml = await renderAstroComponent(\n\t\t\tawait render`<${Component}${spreadAttributes(props)}${markHTMLString(\n\t\t\t\t(children == null || children == '') && voidElementNames.test(Component)\n\t\t\t\t\t? `/>`\n\t\t\t\t\t: `>${children == null ? '' : children}</${Component}>`\n\t\t\t)}`\n\t\t);\n\t}\n\n\tif (!hydration) {\n\t\treturn markHTMLString(html.replace(/\\<\\/?astro-fragment\\>/g, ''));\n\t}\n\n\t// Include componentExport name, componentUrl, and props in hash to dedupe identical islands\n\tconst astroId = shorthash.unique(\n\t\t`<!--${metadata.componentExport!.value}:${metadata.componentUrl}-->\\n${html}\\n${serializeProps(\n\t\t\tprops\n\t\t)}`\n\t);\n\n\t// Rather than appending this inline in the page, puts this into the `result.scripts` set that will be appended to the head.\n\t// INVESTIGATE: This will likely be a problem in streaming because the `<head>` will be gone at this point.\n\tresult.scripts.add(\n\t\tawait generateHydrateScript(\n\t\t\t{ renderer: renderer!, result, astroId, props },\n\t\t\tmetadata as Required<AstroComponentMetadata>\n\t\t)\n\t);\n\n\t// Render a template if no fragment is provided.\n\tconst needsAstroTemplate = children && !/<\\/?astro-fragment\\>/.test(html);\n\tconst template = needsAstroTemplate ? `<template data-astro-template>${children}</template>` : '';\n\treturn markHTMLString(\n\t\t`<astro-root uid=\"${astroId}\"${needsAstroTemplate ? ' tmpl' : ''}>${html ?? ''\n\t\t}${template}</astro-root>`\n\t);\n}\n\n/** Create the Astro.fetchContent() runtime function. */\nfunction createDeprecatedFetchContentFn() {\n\treturn () => {\n\t\tthrow new Error('Deprecated: Astro.fetchContent() has been replaced with Astro.glob().');\n\t};\n}\n\n/** Create the Astro.glob() runtime function. */\nfunction createAstroGlobFn() {\n\tconst globHandler = (importMetaGlobResult: Record<string, any>, globValue: () => any) => {\n\t\tlet allEntries = [...Object.values(importMetaGlobResult)];\n\t\tif (allEntries.length === 0) {\n\t\t\tthrow new Error(`Astro.glob(${JSON.stringify(globValue())}) - no matches found.`);\n\t\t}\n\t\t// Map over the `import()` promises, calling to load them.\n\t\treturn Promise.all(allEntries.map((fn) => fn()));\n\t};\n\t// Cast the return type because the argument that the user sees (string) is different from the argument\n\t// that the runtime sees post-compiler (Record<string, Module>).\n\treturn globHandler as unknown as AstroGlobalPartial['glob'];\n}\n\n// This is used to create the top-level Astro global; the one that you can use\n// Inside of getStaticPaths.\nexport function createAstro(\n\tfilePathname: string,\n\t_site: string,\n\tprojectRootStr: string\n): AstroGlobalPartial {\n\tconst site = new URL(_site);\n\tconst url = new URL(filePathname, site);\n\tconst projectRoot = new URL(projectRootStr);\n\treturn {\n\t\tsite,\n\t\tfetchContent: createDeprecatedFetchContentFn(),\n\t\tglob: createAstroGlobFn(),\n\t\t// INVESTIGATE is there a use-case for multi args?\n\t\tresolve(...segments: string[]) {\n\t\t\tlet resolved = segments.reduce((u, segment) => new URL(segment, u), url).pathname;\n\t\t\t// When inside of project root, remove the leading path so you are\n\t\t\t// left with only `/src/images/tower.png`\n\t\t\tif (resolved.startsWith(projectRoot.pathname)) {\n\t\t\t\tresolved = '/' + resolved.substr(projectRoot.pathname.length);\n\t\t\t}\n\t\t\treturn resolved;\n\t\t},\n\t};\n}\n\nconst toAttributeString = (value: any, shouldEscape = true) =>\n\tshouldEscape ? String(value).replace(/&/g, '&#38;').replace(/\"/g, '&#34;') : value;\n\nconst STATIC_DIRECTIVES = new Set(['set:html', 'set:text']);\n\n// A helper used to turn expressions into attribute key/value\nexport function addAttribute(value: any, key: string, shouldEscape = true) {\n\tif (value == null) {\n\t\treturn '';\n\t}\n\n\tif (value === false) {\n\t\tif (htmlEnumAttributes.test(key) || svgEnumAttributes.test(key)) {\n\t\t\treturn markHTMLString(` ${key}=\"false\"`);\n\t\t}\n\t\treturn '';\n\t}\n\n\t// compiler directives cannot be applied dynamically, log a warning and ignore.\n\tif (STATIC_DIRECTIVES.has(key)) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn(`[astro] The \"${key}\" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.\nMake sure to use the static attribute syntax (\\`${key}={value}\\`) instead of the dynamic spread syntax (\\`{...{ \"${key}\": value }}\\`).`);\n\t\treturn '';\n\t}\n\n\t// support \"class\" from an expression passed into an element (#782)\n\tif (key === 'class:list') {\n\t\treturn markHTMLString(` ${key.slice(0, -5)}=\"${toAttributeString(serializeListValue(value))}\"`);\n\t}\n\n\t// Boolean values only need the key\n\tif (value === true && (key.startsWith('data-') || htmlBooleanAttributes.test(key))) {\n\t\treturn markHTMLString(` ${key}`);\n\t} else {\n\t\treturn markHTMLString(` ${key}=\"${toAttributeString(value, shouldEscape)}\"`);\n\t}\n}\n\n// Adds support for `<Component {...value} />\nexport function spreadAttributes(values: Record<any, any>, shouldEscape = true) {\n\tlet output = '';\n\tfor (const [key, value] of Object.entries(values)) {\n\t\toutput += addAttribute(value, key, shouldEscape);\n\t}\n\treturn markHTMLString(output);\n}\n\n// Adds CSS variables to an inline style tag\nexport function defineStyleVars(selector: string, vars: Record<any, any>) {\n\tlet output = '\\n';\n\tfor (const [key, value] of Object.entries(vars)) {\n\t\toutput += `  --${key}: ${value};\\n`;\n\t}\n\treturn markHTMLString(`${selector} {${output}}`);\n}\n\n// Adds variables to an inline script.\nexport function defineScriptVars(vars: Record<any, any>) {\n\tlet output = '';\n\tfor (const [key, value] of Object.entries(vars)) {\n\t\toutput += `let ${key} = ${JSON.stringify(value)};\\n`;\n\t}\n\treturn markHTMLString(output);\n}\n\nfunction getHandlerFromModule(mod: EndpointHandler, method: string) {\n\t// If there was an exact match on `method`, return that function.\n\tif (mod[method]) {\n\t\treturn mod[method];\n\t}\n\t// Handle `del` instead of `delete`, since `delete` is a reserved word in JS.\n\tif (method === 'delete' && mod['del']) {\n\t\treturn mod['del'];\n\t}\n\t// If a single `all` handler was used, return that function.\n\tif (mod['all']) {\n\t\treturn mod['all'];\n\t}\n\t// Otherwise, no handler found.\n\treturn undefined;\n}\n\n/** Renders an endpoint request to completion, returning the body. */\nexport async function renderEndpoint(mod: EndpointHandler, request: Request, params: Params) {\n\tconst chosenMethod = request.method?.toLowerCase();\n\tconst handler = getHandlerFromModule(mod, chosenMethod);\n\tif (!handler || typeof handler !== 'function') {\n\t\tthrow new Error(\n\t\t\t`Endpoint handler not found! Expected an exported function for \"${chosenMethod}\"`\n\t\t);\n\t}\n\treturn await handler.call(mod, params, request);\n}\n\nasync function replaceHeadInjection(result: SSRResult, html: string): Promise<string> {\n\tlet template = html;\n\t// <!--astro:head--> injected by compiler\n\t// Must be handled at the end of the rendering process\n\tif (template.indexOf('<!--astro:head-->') > -1) {\n\t\ttemplate = template.replace('<!--astro:head-->', await renderHead(result));\n\t}\n\treturn template;\n}\n\n// Calls a component and renders it into a string of HTML\nexport async function renderToString(\n\tresult: SSRResult,\n\tcomponentFactory: AstroComponentFactory,\n\tprops: any,\n\tchildren: any\n): Promise<string> {\n\tconst Component = await componentFactory(result, props, children);\n\tif (!isAstroComponent(Component)) {\n\t\tconst response: Response = Component;\n\t\tthrow response;\n\t}\n\n\tlet template = await renderAstroComponent(Component);\n\treturn replaceHeadInjection(result, template);\n}\n\nexport async function renderPage(\n\tresult: SSRResult,\n\tcomponentFactory: AstroComponentFactory,\n\tprops: any,\n\tchildren: any\n): Promise<{ type: 'html'; html: string } | { type: 'response'; response: Response }> {\n\ttry {\n\t\tconst response = await componentFactory(result, props, children);\n\n\t\tif (isAstroComponent(response)) {\n\t\t\tlet template = await renderAstroComponent(response);\n\t\t\tconst html = await replaceHeadInjection(result, template);\n\t\t\treturn {\n\t\t\t\ttype: 'html',\n\t\t\t\thtml,\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: 'response',\n\t\t\t\tresponse,\n\t\t\t};\n\t\t}\n\t} catch (err) {\n\t\tif (err instanceof Response) {\n\t\t\treturn {\n\t\t\t\ttype: 'response',\n\t\t\t\tresponse: err,\n\t\t\t};\n\t\t} else {\n\t\t\tthrow err;\n\t\t}\n\t}\n}\n\n// Filter out duplicate elements in our set\nconst uniqueElements = (item: any, index: number, all: any[]) => {\n\tconst props = JSON.stringify(item.props);\n\tconst children = item.children;\n\treturn (\n\t\tindex === all.findIndex((i) => JSON.stringify(i.props) === props && i.children == children)\n\t);\n};\n\n// Renders a page to completion by first calling the factory callback, waiting for its result, and then appending\n// styles and scripts into the head.\nexport async function renderHead(result: SSRResult): Promise<string> {\n\tlet needsHydrationStyles = false;\n\tconst styles = Array.from(result.styles)\n\t\t.filter(uniqueElements)\n\t\t.map((style, i) => {\n\t\t\treturn renderElement('style', {\n\t\t\t\t...style,\n\t\t\t\t// , 'astro-script': result._metadata.pathname + '/script-' + i\n\t\t\t\tprops: { ...style.props },\n\t\t\t});\n\t\t});\n\t\n\tconst scripts = Array.from(result.scripts)\n\t\t.filter(uniqueElements)\n\t\t.map((script, i) => {\n\t\t\tif ('data-astro-component-hydration' in script.props) {\n\t\t\t\tneedsHydrationStyles = true;\n\t\t\t}\n\t\t\treturn renderElement('script', {\n\t\t\t\t...script,\n\t\t\t\tprops: { ...script.props, 'astro-script': result._metadata.pathname + '/script-' + i },\n\t\t\t});\n\t\t});\n\tif (needsHydrationStyles) {\n\t\tstyles.push(\n\t\t\trenderElement('style', {\n\t\t\t\tprops: {},\n\t\t\t\tchildren: 'astro-root, astro-fragment { display: contents; }',\n\t\t\t})\n\t\t);\n\t}\n\tconst links = Array.from(result.links)\n\t\t.filter(uniqueElements)\n\t\t.map((link) => renderElement('link', link, false));\n\treturn markHTMLString(\n\t\tlinks.join('\\n') + styles.join('\\n') + scripts.join('\\n') + '\\n' + '<!--astro:head:injected-->'\n\t);\n}\n\nexport async function renderAstroComponent(component: InstanceType<typeof AstroComponent>) {\n\tlet template = [];\n\n\tfor await (const value of component) {\n\t\tif (value || value === 0) {\n\t\t\ttemplate.push(value);\n\t\t}\n\t}\n\n\treturn markHTMLString(await _render(template));\n}\n\nfunction componentIsHTMLElement(Component: unknown) {\n\treturn typeof HTMLElement !== 'undefined' && HTMLElement.isPrototypeOf(Component as object);\n}\n\nexport async function renderHTMLElement(\n\tresult: SSRResult,\n\tconstructor: typeof HTMLElement,\n\tprops: any,\n\tslots: any\n) {\n\tconst name = getHTMLElementName(constructor);\n\n\tlet attrHTML = '';\n\n\tfor (const attr in props) {\n\t\tattrHTML += ` ${attr}=\"${toAttributeString(await props[attr])}\"`;\n\t}\n\n\treturn markHTMLString(\n\t\t`<${name}${attrHTML}>${await renderSlot(result, slots?.default)}</${name}>`\n\t);\n}\n\nfunction getHTMLElementName(constructor: typeof HTMLElement) {\n\tconst definedName = (\n\t\tcustomElements as CustomElementRegistry & { getName(_constructor: typeof HTMLElement): string }\n\t).getName(constructor);\n\tif (definedName) return definedName;\n\n\tconst assignedName = constructor.name\n\t\t.replace(/^HTML|Element$/g, '')\n\t\t.replace(/[A-Z]/g, '-$&')\n\t\t.toLowerCase()\n\t\t.replace(/^-/, 'html-');\n\treturn assignedName;\n}\n\nfunction renderElement(\n\tname: string,\n\t{ props: _props, children = '' }: SSRElement,\n\tshouldEscape = true\n) {\n\t// Do not print `hoist`, `lang`, `is:global`\n\tconst { lang: _, 'data-astro-id': astroId, 'define:vars': defineVars, ...props } = _props;\n\tif (defineVars) {\n\t\tif (name === 'style') {\n\t\t\tif (props['is:global']) {\n\t\t\t\tchildren = defineStyleVars(`:root`, defineVars) + '\\n' + children;\n\t\t\t} else {\n\t\t\t\tchildren = defineStyleVars(`.astro-${astroId}`, defineVars) + '\\n' + children;\n\t\t\t}\n\t\t\tdelete props['is:global'];\n\t\t\tdelete props['is:scoped'];\n\t\t}\n\t\tif (name === 'script') {\n\t\t\tdelete props.hoist;\n\t\t\tchildren = defineScriptVars(defineVars) + '\\n' + children;\n\t\t}\n\t}\n\treturn `<${name}${spreadAttributes(props, shouldEscape)}>${children}</${name}>`;\n}\n\nexport * from \"./render\";", "/**\n * Copyright (C) 2017-present by Andrea Giammarchi - @WebReflection\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst {replace} = '';\n\n// escape\nconst es = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;\nconst ca = /[&<>'\"]/g;\n\nconst esca = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  \"'\": '&#39;',\n  '\"': '&quot;'\n};\nconst pe = m => esca[m];\n\n/**\n * Safely escape HTML entities such as `&`, `<`, `>`, `\"`, and `'`.\n * @param {string} es the input to safely escape\n * @returns {string} the escaped input, and it **throws** an error if\n *  the input type is unexpected, except for boolean and numbers,\n *  converted as string.\n */\nexport const escape = es => replace.call(es, ca, pe);\n\n\n// unescape\nconst unes = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"'\n};\nconst cape = m => unes[m];\n\n/**\n * Safely unescape previously escaped entities such as `&`, `<`, `>`, `\"`,\n * and `'`.\n * @param {string} un a previously escaped string\n * @returns {string} the unescaped input, and it **throws** an error if\n *  the input type is unexpected, except for boolean and numbers,\n *  converted as string.\n */\nexport const unescape = un => replace.call(un, es, cape);\n", "import { escape } from 'html-escaper';\n\n// Leverage the battle-tested `html-escaper` npm package.\nexport const escapeHTML = escape;\n\n/**\n * A \"blessed\" extension of String that tells Astro that the string\n * has already been escaped. This helps prevent double-escaping of HTML.\n */\nexport class HTMLString extends String {}\n\n/**\n * markHTMLString marks a string as raw or \"already escaped\" by returning\n * a `HTMLString` instance. This is meant for internal use, and should not\n * be returned through any public JS API.\n */\nexport const markHTMLString = (value: any) => {\n\t// If value is already marked as an HTML string, there is nothing to do.\n\tif (value instanceof HTMLString) {\n\t\treturn value;\n\t}\n\t// Cast to `HTMLString` to mark the string as valid HTML. Any HTML escaping\n\t// and sanitization should have already happened to the `value` argument.\n\t// NOTE: `unknown as string` is necessary for TypeScript to treat this as `string`\n\tif (typeof value === 'string') {\n\t\treturn new HTMLString(value) as unknown as string;\n\t}\n\t// Return all other values (`number`, `null`, `undefined`) as-is.\n\t// The compiler will recursively stringify these correctly at a later stage.\n\treturn value;\n};", "// Based off of https://www.npmjs.com/package/@lumeweb/randombytes-browser\n\n// limit of Crypto.getRandomValues()\n// https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues\nconst MAX_BYTES = 65536;\n\n// Node supports requesting up to this number of bytes\n// https://github.com/nodejs/node/blob/master/lib/internal/crypto/random.js#L48\nconst MAX_UINT32 = 4294967295;\n\nconst GlobalCrypto = (globalThis.crypto ?? globalThis.msCrypto) as Crypto;\n\nexport function randomBytes(size: number, cb?: (...args: any[]) => any) {\n    if (!(GlobalCrypto && GlobalCrypto.getRandomValues)) {\n        throw new Error('Secure random number generation is not supported by this browser.\\nUse Chrome, Firefox or Internet Explorer 11')\n    }\n\n    // phantomjs needs to throw\n    if (size > MAX_UINT32) throw new RangeError('requested too many random bytes');\n\n    let bytes = new Uint32Array(size)\n\n    if (size > 0) {  // getRandomValues fails on IE if size == 0\n        if (size > MAX_BYTES) { // this is the max bytes crypto.getRandomValues\n            // can do at once see https://developer.mozilla.org/en-US/docs/Web/API/window.crypto.getRandomValues\n            for (let generated = 0; generated < size; generated += MAX_BYTES) {\n                // buffer.slice automatically checks if the end is past the end of\n                // the buffer so we don't have to here\n                GlobalCrypto.getRandomValues(bytes.slice(generated, generated + MAX_BYTES));\n            }\n        } else {\n            GlobalCrypto.getRandomValues(bytes);\n        }\n    }\n\n    if (typeof cb === 'function') {\n        Promise.resolve().then(() => {\n            cb(null, bytes);\n        });\n    }\n\n    return bytes;\n}\n\nexport default randomBytes;", "// Based off of https://www.npmjs.com/package/serialize-javascript\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\nimport { randomBytes } from \"./random-bytes\";\n\n// Generate an internal UID to make the regexp pattern harder to guess.\nlet UID_LENGTH          = 16;\nlet UID                 = generateUID();\nlet PLACE_HOLDER_REGEXP = new RegExp('(\\\\\\\\)?\"@__(F|R|D|M|S|A|U|I|B|L)-' + UID + '-(\\\\d+)__@\"', 'g');\n\nlet IS_NATIVE_CODE_REGEXP = /\\{\\s*\\[native code\\]\\s*\\}/g;\nlet IS_PURE_FUNCTION = /function.*?\\(/;\nlet IS_ARROW_FUNCTION = /.*?=>.*?/;\nlet UNSAFE_CHARS_REGEXP   = /[<>\\/\\u2028\\u2029]/g;\n\nlet RESERVED_SYMBOLS = ['*', 'async'];\n\n// Mapping of unsafe HTML and invalid JavaScript line terminator chars to their\n// Unicode char counterparts which are safe to use in JavaScript strings.\nlet ESCAPED_CHARS = {\n    '<'     : '\\\\u003C',\n    '>'     : '\\\\u003E',\n    '/'     : '\\\\u002F',\n    '\\u2028': '\\\\u2028',\n    '\\u2029': '\\\\u2029'\n};\n\nfunction escapeUnsafeChars(unsafeChar) {\n    return ESCAPED_CHARS[unsafeChar];\n}\n\nfunction generateUID() {\n    var bytes = randomBytes(UID_LENGTH);\n    var result = '';\n    for(var i=0; i<UID_LENGTH; ++i) {\n        result += bytes[i].toString(16);\n    }\n    return result;\n}\n\nfunction deleteFunctions(obj){\n    var functionKeys = [];\n    for (var key in obj) {\n        if (typeof obj[key] === \"function\") {\n            functionKeys.push(key);\n        }\n    }\n    for (var i = 0; i < functionKeys.length; i++) {\n        delete obj[functionKeys[i]];\n    }\n}\n\nexport function serialize(obj, options?: number | string | Record<any, string | number | boolean | Function>) {\n    options || (options = {});\n\n    // Backwards-compatibility for `space` as the second argument.\n    if (typeof options === 'number' || typeof options === 'string') {\n        options = {space: options};\n    }\n\n    let functions = [];\n    let regexps   = [];\n    let dates     = [];\n    let maps      = [];\n    let sets      = [];\n    let arrays    = [];\n    let undefs    = [];\n    let infinities= [];\n    let bigInts = [];\n    let urls = [];\n\n    // Returns placeholders for functions and regexps (identified by index)\n    // which are later replaced by their string representation.\n    function replacer(key, value) {\n\n        // For nested function\n        // @ts-ignore\n        if(options.ignoreFunction){\n            deleteFunctions(value);\n        }\n\n        if (!value && value !== undefined) {\n            return value;\n        }\n\n        // If the value is an object w/ a toJSON method, toJSON is called before\n        // the replacer runs, so we use this[key] to get the non-toJSONed value.\n        var origValue = this[key];\n        var type = typeof origValue;\n\n        if (type === 'object') {\n            if(origValue instanceof RegExp) {\n                return '@__R-' + UID + '-' + (regexps.push(origValue) - 1) + '__@';\n            }\n\n            if(origValue instanceof Date) {\n                return '@__D-' + UID + '-' + (dates.push(origValue) - 1) + '__@';\n            }\n\n            if(origValue instanceof Map) {\n                return '@__M-' + UID + '-' + (maps.push(origValue) - 1) + '__@';\n            }\n\n            if(origValue instanceof Set) {\n                return '@__S-' + UID + '-' + (sets.push(origValue) - 1) + '__@';\n            }\n\n            if(origValue instanceof Array) {\n                var isSparse = origValue.filter(function(){return true}).length !== origValue.length;\n                if (isSparse) {\n                    return '@__A-' + UID + '-' + (arrays.push(origValue) - 1) + '__@';\n                }\n            }\n\n            if(origValue instanceof URL) {\n                return '@__L-' + UID + '-' + (urls.push(origValue) - 1) + '__@';\n            }\n        }\n\n        if (type === 'function') {\n            return '@__F-' + UID + '-' + (functions.push(origValue) - 1) + '__@';\n        }\n\n        if (type === 'undefined') {\n            return '@__U-' + UID + '-' + (undefs.push(origValue) - 1) + '__@';\n        }\n\n        if (type === 'number' && !isNaN(origValue) && !isFinite(origValue)) {\n            return '@__I-' + UID + '-' + (infinities.push(origValue) - 1) + '__@';\n        }\n\n        if (type === 'bigint') {\n            return '@__B-' + UID + '-' + (bigInts.push(origValue) - 1) + '__@';\n        }\n\n        return value;\n    }\n\n    function serializeFunc(fn) {\n      var serializedFn = fn.toString();\n      if (IS_NATIVE_CODE_REGEXP.test(serializedFn)) {\n          throw new TypeError('Serializing native function: ' + fn.name);\n      }\n\n      // pure functions, example: {key: function() {}}\n      if(IS_PURE_FUNCTION.test(serializedFn)) {\n          return serializedFn;\n      }\n\n      // arrow functions, example: arg1 => arg1+5\n      if(IS_ARROW_FUNCTION.test(serializedFn)) {\n          return serializedFn;\n      }\n\n      var argsStartsAt = serializedFn.indexOf('(');\n      var def = serializedFn.substr(0, argsStartsAt)\n        .trim()\n        .split(' ')\n        .filter(function(val) { return val.length > 0 });\n\n      var nonReservedSymbols = def.filter(function(val) {\n        return RESERVED_SYMBOLS.indexOf(val) === -1\n      });\n\n      // enhanced literal objects, example: {key() {}}\n      if(nonReservedSymbols.length > 0) {\n          return (def.indexOf('async') > -1 ? 'async ' : '') + 'function'\n            + (def.join('').indexOf('*') > -1 ? '*' : '')\n            + serializedFn.substr(argsStartsAt);\n      }\n\n      // arrow functions\n      return serializedFn;\n    }\n\n    // Check if the parameter is function\n    if (options.ignoreFunction && typeof obj === \"function\") {\n        obj = undefined;\n    }\n    // Protects against `JSON.stringify()` returning `undefined`, by serializing\n    // to the literal string: \"undefined\".\n    if (obj === undefined) {\n        return String(obj);\n    }\n\n    var str;\n\n    // Creates a JSON string representation of the value.\n    // NOTE: Node 0.12 goes into slow mode with extra JSON.stringify() args.\n    if (options.isJSON && !options.space) {\n        str = JSON.stringify(obj);\n    } else {\n        // @ts-ignore\n        str = JSON.stringify(obj, options.isJSON ? null : replacer, options.space);\n    }\n\n    // Protects against `JSON.stringify()` returning `undefined`, by serializing\n    // to the literal string: \"undefined\".\n    if (typeof str !== 'string') {\n        return String(str);\n    }\n\n    // Replace unsafe HTML and invalid JavaScript line terminator chars with\n    // their safe Unicode char counterpart. This _must_ happen before the\n    // regexps and functions are serialized and added back to the string.\n    if (options.unsafe !== true) {\n        str = str.replace(UNSAFE_CHARS_REGEXP, escapeUnsafeChars);\n    }\n\n    if (functions.length === 0 && regexps.length === 0 && dates.length === 0 && maps.length === 0 && sets.length === 0 && arrays.length === 0 && undefs.length === 0 && infinities.length === 0 && bigInts.length === 0 && urls.length === 0) {\n        return str;\n    }\n\n    // Replaces all occurrences of function, regexp, date, map and set placeholders in the\n    // JSON string with their string representations. If the original value can\n    // not be found, then `undefined` is used.\n    return str.replace(PLACE_HOLDER_REGEXP, function (match, backSlash, type, valueIndex) {\n        // The placeholder may not be preceded by a backslash. This is to prevent\n        // replacing things like `\"a\\\"@__R-<UID>-0__@\"` and thus outputting\n        // invalid JS.\n        if (backSlash) {\n            return match;\n        }\n\n        if (type === 'D') {\n            return \"new Date(\\\"\" + dates[valueIndex].toISOString() + \"\\\")\";\n        }\n\n        if (type === 'R') {\n            return \"new RegExp(\" + serialize(regexps[valueIndex].source) + \", \\\"\" + regexps[valueIndex].flags + \"\\\")\";\n        }\n\n        if (type === 'M') {\n            return \"new Map(\" + serialize(Array.from(maps[valueIndex].entries()), options) + \")\";\n        }\n\n        if (type === 'S') {\n            return \"new Set(\" + serialize(Array.from(sets[valueIndex].values()), options) + \")\";\n        }\n\n        if (type === 'A') {\n            return \"Array.prototype.slice.call(\" + serialize(Object.assign({ length: arrays[valueIndex].length }, arrays[valueIndex]), options) + \")\";\n        }\n\n        if (type === 'U') {\n            return 'undefined'\n        }\n\n        if (type === 'I') {\n            return infinities[valueIndex];\n        }\n\n        if (type === 'B') {\n            return \"BigInt(\\\"\" + bigInts[valueIndex] + \"\\\")\";\n        }\n\n        if (type === 'L') {\n            return \"new URL(\\\"\" + urls[valueIndex].toString() + \"\\\")\"; \n        }\n\n        var fn = functions[valueIndex];\n\n        return serializeFunc(fn);\n    });\n}\n\nexport default serialize;", "import stripAnsi from 'strip-ansi';\nimport eastAsianWidth from 'eastasianwidth';\nimport emojiRegex from 'emoji-regex';\n\nexport default function stringWidth(string, options = {}) {\n\tif (typeof string !== 'string' || string.length === 0) {\n\t\treturn 0;\n\t}\n\n\toptions = {\n\t\tambiguousIsNarrow: true,\n\t\t...options\n\t};\n\n\tstring = stripAnsi(string);\n\n\tif (string.length === 0) {\n\t\treturn 0;\n\t}\n\n\tstring = string.replace(emojiRegex(), '  ');\n\n\tconst ambiguousCharacterWidth = options.ambiguousIsNarrow ? 1 : 2;\n\tlet width = 0;\n\n\tfor (const character of string) {\n\t\tconst codePoint = character.codePointAt(0);\n\n\t\t// Ignore control characters\n\t\tif (codePoint <= 0x1F || (codePoint >= 0x7F && codePoint <= 0x9F)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Ignore combining characters\n\t\tif (codePoint >= 0x300 && codePoint <= 0x36F) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst code = eastAsianWidth.eastAsianWidth(character);\n\t\tswitch (code) {\n\t\t\tcase 'F':\n\t\t\tcase 'W':\n\t\t\t\twidth += 2;\n\t\t\t\tbreak;\n\t\t\tcase 'A':\n\t\t\t\twidth += ambiguousCharacterWidth;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\twidth += 1;\n\t\t}\n\t}\n\n\treturn width;\n}\n", "import type {\n    AstroConfig,\n    AstroComponentMetadata,\n    AstroGlobalPartial,\n    EndpointHandler,\n    Params,\n    SSRElement,\n    SSRLoadedRenderer,\n    SSRResult,\n    AstroGlobal,\n} from \"astro\";\nimport type { MarkdownRenderingOptions } from '@astrojs/markdown-remark';\nimport stringWidth from 'string-width';\n\nimport { renderSlot } from './index';\nimport { extname } from \"../../utils/loader\";\n\nlet FORCE_COLOR, NODE_DISABLE_COLORS, NO_COLOR, TERM, isTTY = true;\n// if (typeof process !== 'undefined') {\n// \t({ FORCE_COLOR, NODE_DISABLE_COLORS, NO_COLOR, TERM } = process.env);\n// \tisTTY = process.stdout && process.stdout.isTTY;\n// }\n\nexport const $ = {\n    enabled: !NODE_DISABLE_COLORS && NO_COLOR == null && TERM !== 'dumb' && (\n        FORCE_COLOR != null && FORCE_COLOR !== '0' || isTTY\n    )\n}\n\nfunction init(x, y) {\n    let rgx = new RegExp(`\\\\x1b\\\\[${y}m`, 'g');\n    let open = `\\x1b[${x}m`, close = `\\x1b[${y}m`;\n\n    return function (txt) {\n        if (!$.enabled || txt == null) return txt;\n        return open + (!!~('' + txt).indexOf(close) ? txt.replace(rgx, close + open) : txt) + close;\n    };\n}\n\n// modifiers\nexport const reset = init(0, 0);\nexport const bold = init(1, 22);\nexport const dim = init(2, 22);\nexport const italic = init(3, 23);\nexport const underline = init(4, 24);\nexport const inverse = init(7, 27);\nexport const hidden = init(8, 28);\nexport const strikethrough = init(9, 29);\n\n// colors\nexport const black = init(30, 39);\nexport const red = init(31, 39);\nexport const green = init(32, 39);\nexport const yellow = init(33, 39);\nexport const blue = init(34, 39);\nexport const magenta = init(35, 39);\nexport const cyan = init(36, 39);\nexport const white = init(37, 39);\nexport const gray = init(90, 39);\nexport const grey = init(90, 39);\n\n// background colors\nexport const bgBlack = init(40, 49);\nexport const bgRed = init(41, 49);\nexport const bgGreen = init(42, 49);\nexport const bgYellow = init(43, 49);\nexport const bgBlue = init(44, 49);\nexport const bgMagenta = init(45, 49);\nexport const bgCyan = init(46, 49);\nexport const bgWhite = init(47, 49);\n\n/** Normalize URL to its canonical form */\nexport function createCanonicalURL(url: string, base?: string): URL {\n    let pathname = url.replace(/\\/index.html$/, ''); // index.html is not canonical\n    pathname = pathname.replace(/\\/1\\/?$/, ''); // neither is a trailing /1/ (impl. detail of collections)\n    if (!extname(pathname)) pathname = pathname.replace(/(\\/+)?$/, '/'); // add trailing slash if there\u2019s no extension\n    pathname = pathname.replace(/\\/+/g, '/'); // remove duplicate slashes (URL() won\u2019t)\n    return new URL(pathname, base);\n}\n\n/** Check if a URL is already valid */\nexport function isValidURL(url: string): boolean {\n    try {\n        new URL(url);\n        return true;\n    } catch (e) { }\n    return false;\n}\n\n// https://vitejs.dev/guide/features.html#css-pre-processors\nexport const STYLE_EXTENSIONS = new Set([\n    '.css',\n    '.pcss',\n    '.postcss',\n    '.scss',\n    '.sass',\n    '.styl',\n    '.stylus',\n    '.less',\n]);\n\nconst cssRe = new RegExp(\n    `\\\\.(${Array.from(STYLE_EXTENSIONS)\n        .map((s) => s.slice(1))\n        .join('|')})($|\\\\?)`\n);\nexport const isCSSRequest = (request: string): boolean => cssRe.test(request);\n\nexport const SCRIPT_EXTENSIONS = new Set(['.js', '.ts']);\nconst scriptRe = new RegExp(\n    `\\\\.(${Array.from(SCRIPT_EXTENSIONS)\n        .map((s) => s.slice(1))\n        .join('|')})($|\\\\?)`\n);\nexport const isScriptRequest = (request: string): boolean => scriptRe.test(request);\n\ninterface LogWritable<T> {\n    write: (chunk: T) => boolean;\n}\n\nexport type LoggerLevel = 'debug' | 'info' | 'warn' | 'error' | 'silent'; // same as Pino\nexport type LoggerEvent = 'info' | 'warn' | 'error';\n\nexport interface LogOptions {\n    dest: LogWritable<LogMessage>;\n    level: LoggerLevel;\n}\n\nfunction getLoggerLocale(): string {\n    const defaultLocale = 'en-US';\n    if (typeof process !== 'undefined') {\n        if (process?.env?.LANG) {\n            const extractedLocale = process?.env?.LANG?.split('.')[0].replace(/_/g, '-');\n            // Check if language code is atleast two characters long (ie. en, es).\n            // NOTE: if \"c\" locale is encountered, the default locale will be returned.\n            if (extractedLocale.length < 2) return defaultLocale;\n            else return extractedLocale.substring(0, 5);\n        }\n    }\n\n    return defaultLocale;\n}\n\nexport const dateTimeFormat = new Intl.DateTimeFormat(getLoggerLocale(), {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n});\n\nexport interface LogMessage {\n    type: string | null;\n    level: LoggerLevel;\n    message: string;\n    args: Array<any>;\n}\n\nexport const levels: Record<LoggerLevel, number> = {\n    debug: 20,\n    info: 30,\n    warn: 40,\n    error: 50,\n    silent: 90,\n};\n\n/** Full logging API */\nexport function log(\n    opts: LogOptions,\n    level: LoggerLevel,\n    type: string | null,\n    ...args: Array<any>\n) {\n    const logLevel = opts.level;\n    const dest = opts.dest;\n    const event: LogMessage = {\n        type,\n        level,\n        args,\n        message: '',\n    };\n\n    // test if this level is enabled or not\n    if (levels[logLevel] > levels[level]) {\n        return; // do nothing\n    }\n\n    dest.write(event);\n}\n\n/** Emit a user-facing message. Useful for UI and other console messages. */\nexport function info(opts: LogOptions, type: string | null, ...messages: Array<any>) {\n    return log(opts, 'info', type, ...messages);\n}\n\n/** Emit a warning message. Useful for high-priority messages that aren't necessarily errors. */\nexport function warn(opts: LogOptions, type: string | null, ...messages: Array<any>) {\n    return log(opts, 'warn', type, ...messages);\n}\n\n/** Emit a error message, Useful when Astro can't recover from some error. */\nexport function error(opts: LogOptions, type: string | null, ...messages: Array<any>) {\n    return log(opts, 'error', type, ...messages);\n}\n\ntype LogFn = typeof info | typeof warn | typeof error;\n\nexport function table(opts: LogOptions, columns: number[]) {\n    return function logTable(logFn: LogFn, ...input: Array<any>) {\n        const messages = columns.map((len, i) => padStr(input[i].toString(), len));\n        logFn(opts, null, ...messages);\n    };\n}\n\nexport function debug(...args: any[]) {\n    if ('_astroGlobalDebug' in globalThis) {\n        (globalThis as any)._astroGlobalDebug(...args);\n    }\n}\n\nfunction padStr(str: string, len: number) {\n    const strLen = stringWidth(str);\n    if (strLen > len) {\n        return str.substring(0, len - 3) + '...';\n    }\n    const spaces = Array.from({ length: len - strLen }, () => ' ').join('');\n    return str + spaces;\n}\n\nexport let defaultLogLevel: LoggerLevel;\nif (typeof process !== 'undefined') {\n    if (process?.argv?.includes?.('--verbose')) {\n        defaultLogLevel = 'debug';\n    } else if (process?.argv?.includes?.('--silent')) {\n        defaultLogLevel = 'silent';\n    } else {\n        defaultLogLevel = 'info';\n    }\n} else {\n    defaultLogLevel = 'info';\n}\n\n/** Print out a timer message for debug() */\nexport function timerMessage(message: string, startTime: number = Date.now()) {\n    let timeDiff = Date.now() - startTime;\n    let timeDisplay =\n        timeDiff < 750 ? `${Math.round(timeDiff)}ms` : `${(timeDiff / 1000).toFixed(1)}s`;\n    return `${message}   ${dim(timeDisplay)}`;\n}\n\n/**\n * A warning that SSR is experimental. Remove when we can.\n */\nexport function warnIfUsingExperimentalSSR(opts: LogOptions, config: AstroConfig) {\n    if (config._ctx.adapter?.serverEntrypoint) {\n        warn(\n            opts,\n            'warning',\n            bold(`Warning:`),\n            `SSR support is still experimental and subject to API changes. If using in production pin your dependencies to prevent accidental breakage.`\n        );\n    }\n}\n\nfunction onlyAvailableInSSR(name: string) {\n    return function () {\n        // TODO add more guidance when we have docs and adapters.\n        throw new Error(`Oops, you are trying to use ${name}, which is only available with SSR.`);\n    };\n}\n\nexport interface CreateResultArgs {\n    ssr: boolean;\n    logging: LogOptions;\n    origin: string;\n    markdown: MarkdownRenderingOptions;\n    params: Params;\n    pathname: string;\n    renderers: SSRLoadedRenderer[];\n    resolve: (s: string) => Promise<string>;\n    site: string | undefined;\n    links?: Set<SSRElement>;\n    scripts?: Set<SSRElement>;\n    request: Request;\n}\n\nfunction getFunctionExpression(slot: any) {\n    if (!slot) return;\n    if (slot.expressions?.length !== 1) return;\n    return slot.expressions[0] as (...args: any[]) => any;\n}\n\nclass Slots {\n    #cache = new Map<string, string>();\n    #result: SSRResult;\n    #slots: Record<string, any> | null;\n\n    constructor(result: SSRResult, slots: Record<string, any> | null) {\n        this.#result = result;\n        this.#slots = slots;\n        if (slots) {\n            for (const key of Object.keys(slots)) {\n                if ((this as any)[key] !== undefined) {\n                    throw new Error(\n                        `Unable to create a slot named \"${key}\". \"${key}\" is a reserved slot name!\\nPlease update the name of this slot.`\n                    );\n                }\n                Object.defineProperty(this, key, {\n                    get() {\n                        return true;\n                    },\n                    enumerable: true,\n                });\n            }\n        }\n    }\n\n    public has(name: string) {\n        if (!this.#slots) return false;\n        return Boolean(this.#slots[name]);\n    }\n\n    public async render(name: string, args: any[] = []) {\n        const cacheable = args.length === 0;\n        if (!this.#slots) return undefined;\n        if (cacheable && this.#cache.has(name)) {\n            const result = this.#cache.get(name);\n            return result;\n        }\n        if (!this.has(name)) return undefined;\n        if (!cacheable) {\n            const component = await this.#slots[name]();\n            const expression = getFunctionExpression(component);\n            if (expression) {\n                const slot = expression(...args);\n                return await renderSlot(this.#result, slot).then((res) =>\n                    res != null ? String(res) : res\n                );\n            }\n        }\n        const content = await renderSlot(this.#result, this.#slots[name]).then((res) =>\n            res != null ? String(res) : res\n        );\n        if (cacheable) this.#cache.set(name, content);\n        return content;\n    }\n}\n\nlet renderMarkdown: any = null;\n\nexport function createResult(args: CreateResultArgs): SSRResult {\n    const { markdown, params, pathname, renderers, request, resolve, site } = args;\n\n    const url = new URL(request.url);\n    const canonicalURL = createCanonicalURL('.' + pathname, site ?? url.origin);\n\n    // Create the result object that will be passed into the render function.\n    // This object starts here as an empty shell (not yet the result) but then\n    // calling the render() function will populate the object with scripts, styles, etc.\n    const result: SSRResult = {\n        styles: new Set<SSRElement>(),\n        scripts: args.scripts ?? new Set<SSRElement>(),\n        links: args.links ?? new Set<SSRElement>(),\n        /** This function returns the `Astro` faux-global */\n        createAstro(\n            astroGlobal: AstroGlobalPartial,\n            props: Record<string, any>,\n            slots: Record<string, any> | null\n        ) {\n            const astroSlots = new Slots(result, slots);\n\n            const Astro = {\n                __proto__: astroGlobal,\n                canonicalURL,\n                params,\n                props,\n                request,\n                redirect: args.ssr\n                    ? (path: string) => {\n                        return new Response(null, {\n                            status: 301,\n                            headers: {\n                                Location: path,\n                            },\n                        });\n                    }\n                    : onlyAvailableInSSR('Astro.redirect'),\n                resolve(path: string) {\n                    let extra = `This can be replaced with a dynamic import like so: await import(\"${path}\")`;\n                    if (isCSSRequest(path)) {\n                        extra = `It looks like you are resolving styles. If you are adding a link tag, replace with this:\n---\nimport \"${path}\";\n---\n`;\n                    } else if (isScriptRequest(path)) {\n                        extra = `It looks like you are resolving scripts. If you are adding a script tag, replace with this:\n\n<script type=\"module\" src={(await import(\"${path}?url\")).default}></script>\n\nor consider make it a module like so:\n\n<script>\n\timport MyModule from \"${path}\";\n</script>\n`;\n                    }\n\n                    warn(\n                        args.logging,\n                        `deprecation`,\n                        `${bold(\n                            'Astro.resolve()'\n                        )} is deprecated. We see that you are trying to resolve ${path}.\n${extra}`\n                    );\n                    // Intentionally return an empty string so that it is not relied upon.\n                    return '';\n                },\n                slots: astroSlots,\n            } as unknown as AstroGlobal;\n\n            Object.defineProperty(Astro, '__renderMarkdown', {\n                // Ensure this API is not exposed to users\n                enumerable: false,\n                writable: false,\n                // TODO: Remove this hole \"Deno\" logic once our plugin gets Deno support\n                value: async function (content: string, opts: MarkdownRenderingOptions) {\n                    // @ts-ignore\n                    if (typeof Deno !== 'undefined') {\n                        throw new Error('Markdown is not supported in Deno SSR');\n                    }\n\n                    if (!renderMarkdown) {\n                        // The package is saved in this variable because Vite is too smart\n                        // and will try to inline it in buildtime\n                        let astroRemark = '@astrojs/markdown-remark';\n\n                        renderMarkdown = (await import(astroRemark)).renderMarkdown;\n                    }\n\n                    const { code } = await renderMarkdown(content, { ...markdown, ...(opts ?? {}) });\n                    return code;\n                },\n            });\n\n            return Astro;\n        },\n        resolve,\n        _metadata: {\n            renderers,\n            pathname,\n        },\n    };\n\n    return result;\n}\n", "export * from './astro';\n\nimport { b64EncodeUnicode } from \"./b64\";\n\n/**\n * debounce function\n * use timer to maintain internal reference of timeout to clear\n */\nexport const debounce = (func: Function, timeout = 300) => {\n  let timer: any;\n  return function (...args: any) {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func.apply(this, args);\n    }, timeout);\n  };\n};\n\n\n//  export const debounce = (func, delay = 300) => {\n//   let inDebounce;\n//   return function(...args) {\n//     const context = this;\n//     clearTimeout(inDebounce)\n//     inDebounce = setTimeout(() => func.apply(context, args), delay)\n//   }\n// }\n\n/**\n * throttle function that catches and triggers last invocation\n * use time to see if there is a last invocation\n */\nexport const throttle = (func: Function, limit = 300) => {\n  let lastFunc: any;\n  let lastRan: any;\n  return function (...args: any) {\n    const context = this;\n    if (!lastRan) {\n      func.apply(context, args);\n      lastRan = Date.now();\n    } else {\n      clearTimeout(lastFunc);\n      lastFunc = setTimeout(function () {\n        if (Date.now() - lastRan >= limit) {\n          func.apply(context, args);\n          lastRan = Date.now();\n        }\n      }, limit - (Date.now() - lastRan));\n    }\n  };\n};", "// export const { encode } = new TextEncoder();\n// export const { decode } = new TextDecoder();\n\nexport const encode = (str: string) => new TextEncoder().encode(str);\nexport const decode = (buf: BufferSource) => new TextDecoder().decode(buf);", "import type { FunctionalComponent } from 'preact';\nimport type { TabName } from '../const';\nimport { h, Fragment } from 'preact';\nimport { useRef, useCallback, useState, useEffect } from 'preact/hooks';\nimport { Uri, editor as MonacoEditor } from 'monaco-editor';\n\nimport Editor from './Editor';\nimport JS from './JS';\nimport HTML from './HTML';\nimport Menu from './Menu';\nimport Preview from './Preview';\nimport StatusBar from './StatusBar';\nimport useMonaco from '../hooks/useMonaco';\nimport { TABS } from '../const';\nimport useWindowSize from '../hooks/useWindowSize';\n\nimport { BuildWorker, WorkerEvents, ModuleWorkerSupported } from '../../utils/WebWorker';\nimport { debounce } from '../../utils';\n\nimport { encode, decode } from \"../../utils/encode-decode\";\n\nlet initialized = false;\nlet ready = false;\n\nconst postMessage = (obj: any) => {\n  const messageStr = JSON.stringify(obj);\n  const encodedMessage = encode(messageStr);\n  BuildWorker.postMessage(encodedMessage , [encodedMessage.buffer]); \n}\n\nBuildWorker.addEventListener(\n\"message\",\n  ({ data }: MessageEvent<Uint8Array>) => {\n    const { event, details } = JSON.parse(decode(data));\n    WorkerEvents.emit(event, details);\n  }\n);\n\nlet warnFn, errFn, resultFn, buildFn, readyFn;\nwarnFn = errFn = resultFn = buildFn = readyFn = (details: any) => {};\n\nWorkerEvents.on({\n  init() {\n    console.log(\"Initalized\");\n    initialized = true;\n\n    if (initialized)\n      WorkerEvents.emit(\"ready\");\n  },\n  warn: (details: any) => warnFn(details),\n  error: (details: any) => errFn(details),\n  result: (details: any) => resultFn(details),\n  build: (details: any) => buildFn(details),\n  ready: (details: any) => readyFn(details),\n});\n\nlet Models = [];\nconst difference = (a: any[], b: any[]) => {\n  const seta = new Set(a);\n  const setb = new Set(b);\n  return [\n    [...seta].filter(x => !setb.has(x)),  \n    [...setb].filter(x => !seta.has(x))\n  ].flat();\n}\n\nexport interface Props {\n  Monaco: typeof import('../../editor/modules/monaco');\n  initialModels?: Record<string, string>\n}\n\n// Fix the ask to confirm error\nfunction beforeUnloadListener(event) {\n  event.preventDefault();\n  return event.returnValue = 'Are you sure you want to exit? Your work will be lost!';\n};\n\n// A function that invokes a callback when the page has unsaved changes.\nwindow.addEventListener('beforeunload', beforeUnloadListener);\n\nconst App: FunctionalComponent<Props> = ({ Monaco, initialModels = {} }) => {\n  const editorRef = useRef<HTMLElement | null>(null);\n  const { editor, models, currentModel, value, setTab, addTab, removeTab } = useMonaco(Monaco, editorRef, initialModels);\n\n  const { isDesktop } = useWindowSize();\n  const [currentTab, setCurrentTab] = useState<TabName>(isDesktop ? TABS.PREVIEW : TABS.CODE);\n  const [loading, setLoading] = useState(true);\n\n  const onAddTab = useCallback(() => {\n    const basenames = models\n      .map((model) =>\n        model.uri.path\n          .split('/')\n          .pop()\n          .slice(0, '.astro'.length * -1)\n      )\n      .filter((c) => c.startsWith('Component'));\n    let filename = 'Component';\n    for (const basename of basenames) {\n      if (basename === filename) {\n        if (filename === 'Component') {\n          filename = 'Component1';\n        } else {\n          const number = Number.parseInt(filename.replace(/^Component/, '')) + 1;\n          filename = `Component${number}`;\n        }\n      }\n    }\n    addTab(\n      `---\nconst name = \"Component\"\n---\n\n<h1>Hello {name}</h1>`,\n      'astro',\n      Uri.parse(`inmemory://model/src/components/${filename}.astro`)\n    );\n  }, [models]);\n\n  const onSetTab = (model) => {\n    setTab(model);\n  };\n\n  const trackedValue = useRef({ value: '', start: 0 });\n  const [js, setJs] = useState('');\n  const [html, setHtml] = useState('');\n  const [formattedHtml, setformattedHtml] = useState('');\n\n  const [err, setErr] = useState(\"\");\n  const [duration, setDuration] = useState(0);\n\n  const getCurrent = () => {\n    if (!editor.current) return { current: null };\n    const _editor = editor.current;\n\n    const model = _editor.getModel();\n    const value = model.getValue().trim();\n    if (value) {\n      trackedValue.current = { value, start: performance.now() };\n      return {\n        current: { filename: model.uri.path, value }\n      };\n    }\n  }\n\n  window.addEventListener('message', (event) => {\n    if (event.data.message === 'reload') {\n      if (models.length > 0) {\n        const _models = models.map(model => {\n          const filename = model.uri.path;\n          const value = model.getValue();\n          return { filename, value };\n        });\n        console.log({models});\n        postMessage({\n          event: \"build\",\n          details: Object.assign(\n            {\n              ModuleWorkerSupported,              \n              current: {filename: \"/src/index.astro\", value: event.data.newContent}\n            },\n          )\n        });\n      }\n    }\n  });\n\n  const updateModels = () => {\n    if (models.length > 0) {\n      const _models = models.map(model => {\n        const filename = model.uri.path;\n        const value = model.getValue();\n        return { filename, value };\n      });\n\n      postMessage({\n        event: \"build\",\n        details: Object.assign(\n          {\n            models: _models,\n            ModuleWorkerSupported\n          },\n          getCurrent()\n        )\n      });\n\n      Models = [..._models].map((x) => `${(x as any).filename}`);\n    }\n  };\n\n  warnFn = (details) => {\n    const { type, message } = details;\n    console.warn(`${type}\\n${message}`);\n    // console.warn(message)\n\n    if (typeof message == \"string\") {\n      setErr(`${type}\\n${message}`);\n      setTimeout(() => {\n        setErr(null);\n      }, 1500);\n    }\n  };\n\n  errFn = (details) => {\n    const { type, error } = details;\n    if (typeof error === 'object' && error.message) {\n      const message = error.message.includes(\"virtualfs:\") ?\n        error.message?.split('virtualfs:')[1]?.split(' ').slice(1).join(' ').split('\\n')[0]?.replace('error', 'Error') :\n        error.message;\n\n      console.error(\n        `${type} (please create a new issue in the repo)\\n`,\n        new Error(message) \n      );\n      setErr(JSON.stringify(message));\n      return;\n    } else if (Array.isArray(error) || Array.isArray(error?.errors)) {\n      const errArr = \"errors\" in error ? error.errors : error;\n      errArr.forEach((err: string) => { \n        console.error(err);\n      });\n\n      if (errArr.length > 0)\n        setErr(errArr[0].pluginName + \":\" + errArr[0].text);\n\n      return;\n    } \n\n    console.error(\n      `${type} (please create a new issue in the repo)\\n`,\n      JSON.stringify(error)\n    );\n    setErr(JSON.stringify(error));\n  };\n\n  resultFn = (details) => {\n    setErr(null);\n    setLoading(false);\n    if (details.html) setHtml(details.html?.content);\n    if (details.js) {\n      setJs(details.js?.content);\n      if (details.js?.timing) setDuration(details.js.timing?.compile);\n    }\n\n    if (details.shiki) setformattedHtml(details.shiki?.content);\n  };\n\n  buildFn = debounce(() => {\n    const { current } = getCurrent() ?? {};\n    if (current == null) return;\n    postMessage({\n      event: \"build\",\n      details: { current, ModuleWorkerSupported }\n    });\n  }, 30);\n\n  readyFn = () => {\n    updateModels();\n    ready = true;\n  };\n\n  useEffect(() => {\n    if (!initialized || !ready) return;\n    \n    const diff = difference(\n      models.map(model => {\n        const filename = model.uri.path;\n        return `${filename}`;\n      }), \n      Models\n    );\n\n    postMessage({\n      event: \"delete\",\n      details: {\n        filenames: diff\n      }\n    });\n\n    updateModels();\n  }, [models])\n\n  useEffect(() => { \n    if (!initialized) return;\n    WorkerEvents.emit(\"build\");\n  }, [value]);\n\n  return (\n    <>\n      <Menu currentTab={currentTab} setCurrentTab={setCurrentTab} />\n      <Editor\n        currentModel={currentModel}\n        currentTab={currentTab}\n        models={models}\n        onAddTab={onAddTab}\n        onRemoveTab={removeTab}\n        onSetTab={onSetTab}\n        ref={editorRef}\n      />\n      <Preview currentTab={currentTab} hasError={!!err} html={html} loading={loading} />\n      <HTML currentTab={currentTab} hasError={!!err} html={formattedHtml} />\n      <JS currentTab={currentTab} hasError={!!err} code={js} />\n      <StatusBar error={err} duration={duration} />\n    </>\n  );\n};\n\nexport default App;\n", "import type { editor as Editor } from 'monaco-editor';\n\nimport { h, render } from 'preact';\nimport App, { Props as AppProps } from './components/App';\n\nconst hydrate = (props: AppProps) => {\n  const app = document.querySelector('#app');\n  render(h(App, props), app);\n};\n\nexport default hydrate;\n", "import './styles/index.css';\nimport { b64Decode } from './utils/b64';\nimport render from './ui';\n\n(async () => {\n  // Monaco Code Editor\n  const Monaco = await import('./editor/modules/monaco');\n  const hash = window.location.hash;\n  let initialModels = {};\n  if (hash) {\n    try {\n      initialModels = b64Decode(hash.slice(1));\n    } catch (err) {\n      console.error(`Could not load share URL`);\n    }\n  }\n  render({ Monaco, initialModels });\n   \n})();"],
  "mappings": "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CpC,KAAU,GAAa,GAAa,KACpC,KAAU,GAAa,GAAa,KACpC,KAAU,GAAa,GAAa,KACpC,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,MAAU,GAAa,GAAa,MACpC,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,MACA,AAAU,GAAV,M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",
  "names": []
}
